(this.webpackJsonpecom=this.webpackJsonpecom||[]).push([[0],{112:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n,r,s,c,i,l,o,d=a(1),j=a(26),h=a.n(j),b=(a(112),a(18)),u=a(19),m=a(15),O=a(21),x=a(20),p=a.p+"static/media/logo.cabcfc14.svg",g=a.p+"static/media/search.a65a2553.svg",v=a(175),f=a(173),y=a(156),N=a(172),S=(a(85),a(11)),k=a(22),C=a(154),L=a(155),I=a(174),w=a(179),A=a(13),T=a.n(A),P=a(0),F=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={dataObj:{},showLoadMore:!0},n.getData(),n}return Object(u.a)(a,[{key:"getData",value:function(){var e=this;T.a.get("https://node-pritam.firebaseio.com/ecom/hompage.json").then((function(t){e.setState({dataObj:t.data,showLoadMore:!1})}),(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(P.jsx)("div",{children:this.state.showLoadMore?null:Object(P.jsxs)(P.Fragment,{children:[void 0!==this.state.dataObj.banner?Object(P.jsx)(C.a,{style:{width:"100%"},children:Object(P.jsx)(L.a,{style:{margin:"0px"},children:Object(P.jsx)(I.a,{name:"banner",children:this.state.dataObj.banner.map((function(t){return e.showCarousel(t,e.state.dataObj.bannerURL,"220rem",3e3,1)}))})})}):null,void 0!==this.state.dataObj.category?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(y.a,{variant:"danger",children:"Category"}),Object(P.jsx)(L.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:this.state.dataObj.category.map((function(t){return null!==t&&t.enable?e.getCategory(t,e.state.dataObj.categoryURL):null}))})]}):null,void 0!==this.state.dataObj.offers?Object(P.jsx)(C.a,{style:{width:"100%"},children:Object(P.jsx)(L.a,{style:{margin:"0px"},children:Object(P.jsx)(I.a,{name:"offers",children:this.state.dataObj.offers.map((function(t){return e.showCarousel(t,e.state.dataObj.offersURL,"80rem",2e3,0)}))})})}):null,void 0!==this.state.dataObj.brand?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(y.a,{variant:"danger",children:"Brand"}),Object(P.jsx)(L.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:this.state.dataObj.brand.map((function(t){return null!=t?e.getBrand(t):null}))})]}):null]})})}},{key:"showCarousel",value:function(e,t,a,n,r){return Object(P.jsx)(I.a.Item,{interval:n,indicators:1===r?1:0,controls:r?1:0,children:Object(P.jsx)("img",{width:"100%",height:a,alt:e,src:t+e+"?alt=media"})},e)}},{key:"getCategory",value:function(e,t){return Object(P.jsx)(S.b,{to:"/products?category="+e.name,children:Object(P.jsxs)(w.a,{className:"Card",children:[Object(P.jsx)("img",{height:"220rem",alt:e.name,src:t+e.image+"?alt=media"}),Object(P.jsx)("p",{style:{textAlign:"center",margin:"0px"},children:Object(P.jsx)("b",{children:e.name})})]})},e.name)}},{key:"getBrand",value:function(e){return Object(P.jsx)(S.b,{to:"/products?brand="+e,children:Object(P.jsx)(w.a,{className:"Card",children:Object(P.jsx)("p",{style:{textAlign:"center",margin:"4px"},children:Object(P.jsx)("b",{children:e})})})},e)}}]),a}(d.Component),E=Object(k.g)(F),D=a(176),_=a(157),q=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(D.a.Container,{id:"left-tabs-example",defaultActiveKey:"about",children:Object(P.jsxs)(L.a,{style:{margin:"0px"},children:[Object(P.jsx)(_.a,{sm:3,children:Object(P.jsxs)(f.a,{variant:"pills",className:"flex-column",children:[Object(P.jsx)(f.a.Item,{children:Object(P.jsx)(f.a.Link,{eventKey:"about",children:"About Us"})}),Object(P.jsx)(f.a.Item,{children:Object(P.jsx)(f.a.Link,{eventKey:"social",children:"Social Media"})}),Object(P.jsx)(f.a.Item,{children:Object(P.jsx)(f.a.Link,{eventKey:"shipping",children:"Shipping"})}),Object(P.jsx)(f.a.Item,{children:Object(P.jsx)(f.a.Link,{eventKey:"contact",children:"Contact Us"})})]})}),Object(P.jsx)(_.a,{sm:9,children:Object(P.jsxs)(D.a.Content,{children:[Object(P.jsx)(D.a.Pane,{eventKey:"about",children:Object(P.jsx)("p",{children:"About"})}),Object(P.jsx)(D.a.Pane,{eventKey:"social",children:Object(P.jsxs)("ol",{children:[Object(P.jsx)("li",{children:"Facebook"}),Object(P.jsx)("li",{children:"Twitter"}),Object(P.jsx)("li",{children:"YouTube"})]})}),Object(P.jsx)(D.a.Pane,{eventKey:"shipping",children:Object(P.jsx)("p",{children:"Shipping"})}),Object(P.jsx)(D.a.Pane,{eventKey:"contact",children:Object(P.jsx)("p",{children:"Contact"})})]})})]})})})}}]),a}(d.Component),H=a.p+"static/media/notfound.e4279006.svg",R=(a(96),function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(P.jsxs)("div",{className:"center",children:[Object(P.jsx)("img",{src:H,alt:H,height:"300",className:"center"}),Object(P.jsx)("br",{}),Object(P.jsx)(S.b,{to:"/",className:"btn btn-primary",children:"Go to Home"})]})}}]),a}(d.Component)),B=a(158),V=a(35),M=(a(64),a(101)),$=a.n(M),U=a(84),K="1046212221280-q9flr5ppippq15cicnk55erneppcd4nk.apps.googleusercontent.com",J=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={isLogined:!!localStorage.getItem("name"),accessToken:""},n.login=n.login.bind(Object(m.a)(n)),n.handleLoginFailure=n.handleLoginFailure.bind(Object(m.a)(n)),n.logout=n.logout.bind(Object(m.a)(n)),n.handleLogoutFailure=n.handleLogoutFailure.bind(Object(m.a)(n)),n.handleLoginFacebook=n.handleLoginFacebook.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"login",value:function(e){e.accessToken&&(this.setState((function(t){return{isLogined:!0,accessToken:e.accessToken}})),localStorage.clear(),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("email",e.profileObj.email),localStorage.setItem("name",e.profileObj.name),localStorage.setItem("imageUrl",e.profileObj.imageUrl),localStorage.setItem("loginTime",(new Date).toISOString()),this.updateInfo(e.profileObj.email,e.profileObj.name,e))}},{key:"updateInfo",value:function(e,t,a){var n=this;T.a.post("http://localhost:3000/api/auth/social",{email:e,name:t,date:Date.now(),info:a}).then((function(e){localStorage.setItem("token",e.data.user.token),localStorage.setItem("uid",e.data.user.id),n.updateCart(e.data.user.id)}),(function(e){console.log(e),localStorage.clear(),alert("Something went Wrong! Try again...")}))}},{key:"updateCart",value:function(e){var t=this;T.a.post("http://localhost:3000/api/mongoclient/id?collection=cart&id="+e,{}).then((function(e){var a=e.data.data;void 0!==a&&null!==a?localStorage.setItem("cart",JSON.stringify(e.data.data)):localStorage.setItem("cart",[]),t.props.updateLogin(),t.props.history.push("/")}),(function(e){console.log(e),localStorage.setItem("cart",[])}))}},{key:"logout",value:function(e){this.setState((function(e){return{isLogined:!1,accessToken:""}})),localStorage.clear(),V.b.warn("Logout",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.props.updateLogin(),this.props.history.push("/")}},{key:"handleLoginFailure",value:function(e){alert("Google - Failed to log in")}},{key:"handleLogoutFailure",value:function(e){alert("Google - Failed to log out")}},{key:"handleLoginFacebook",value:function(e){e.accessToken?(this.setState({isLogined:!0,accessToken:e.accessToken}),localStorage.clear(),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("facebookId",e.userID),localStorage.setItem("imageUrl",e.picture.data.url),localStorage.setItem("loginTime",(new Date).toISOString()),this.updateInfo(e.email,e.name,e)):alert("Facebook - Failed to log in")}},{key:"getProfile",value:function(){return Object(P.jsx)(B.a,{children:Object(P.jsxs)("tbody",{children:[Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:"2",children:Object(P.jsx)("img",{src:localStorage.getItem("imageUrl"),alt:"",height:"150",width:"150"})})}),Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:"2",children:Object(P.jsx)("h3",{children:localStorage.getItem("name")})})}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Email"}),Object(P.jsx)("td",{children:localStorage.getItem("email")})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Last Login Time"}),Object(P.jsx)("td",{children:localStorage.getItem("loginTime")})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)(S.b,{to:"/address",className:"btn btn-primary",children:"My Address"})}),Object(P.jsx)("td",{children:Object(P.jsx)(S.b,{to:"/orders",className:"btn btn-primary",children:"Order History"})})]}),Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:"2"})})]})})}},{key:"render",value:function(){return Object(P.jsx)(C.a,{fluid:!0,className:"center",children:Object(P.jsx)("div",{children:this.state.isLogined?Object(P.jsxs)(P.Fragment,{children:[this.getProfile(),Object(P.jsx)(U.GoogleLogout,{clientId:K,buttonText:"Logout",onLogoutSuccess:this.logout,onFailure:this.handleLogoutFailure}),Object(P.jsx)(V.a,{})]}):Object(P.jsxs)("div",{children:[Object(P.jsx)(U.GoogleLogin,{clientId:K,buttonText:"Sign in with Google",onSuccess:this.login,onFailure:this.handleLoginFailure,cookiePolicy:"single_host_origin",responseType:"code,token"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)($.a,{appId:"396350414949326",autoLoad:!1,fields:"name,email,picture",icon:"fa-facebook",callback:this.handleLoginFacebook})]})})})}}]),a}(d.Component),z=Object(k.g)(J),W=a(166),Y=a(41),G=a(34),Q=a.n(G),X=a(178),Z=Q()(n||(n=Object(Y.a)(["\n  query GetPosts {\n    posts {\n      id\n      author\n      body\n    }\n  }\n"]))),ee=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(X.b,{query:Z,children:function(e){var t=e.loading,a=e.data;return t||void 0===a||void 0===a.posts?Object(P.jsx)("p",{children:"Something went wrong!"}):Object(P.jsxs)(B.a,{children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"Author"}),Object(P.jsx)("th",{children:"Body"})]})}),Object(P.jsx)("tbody",{children:a.posts.map((function(e){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e.author}),Object(P.jsx)("td",{children:e.body})]},e.id)}))})]})}}),Object(P.jsx)("hr",{}),Object(P.jsxs)("p",{children:["Environment = ","production"]}),Object(P.jsxs)("p",{children:["API_URL = ","http://localhost:3000"," "]})]})},te=a(43),ae=a.n(te),ne=a(57),re=a(177),se=a(159),ce=a(160),ie=a(161),le=a(162),oe=a(163),de=a(164),je=a(165),he=a(16),be=new(a(107).a)({uri:"http://localhost:3000/graphql"}),ue=Q()(r||(r=Object(Y.a)(["\n  mutation SubmitPost($input: PostInput!) {\n    submitPost(input: $input) {\n      id\n    }\n  }\n"]))),me=function(e){var t=e.post,a=e.onClose;return Object(P.jsx)(he.b,{onSubmit:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var n,r,s,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.author,s=t.body,c={id:n,author:r,body:s},e.next=4,be.mutate({variables:{input:c},mutation:ue,refetchQueries:function(){return[{query:Z}]}});case 4:a();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:t,render:function(e){var n=e.handleSubmit,r=e.pristine;e.invalid;return Object(P.jsx)(re.a,{isOpen:!0,toggle:a,children:Object(P.jsxs)(se.a,{onSubmit:n,children:[Object(P.jsx)(ce.a,{toggle:a,children:t.id?"Edit Post":"New Post"}),Object(P.jsxs)(ie.a,{children:[Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Author"}),Object(P.jsx)(he.a,{required:!0,name:"author",className:"form-control",component:"input"})]}),Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Body"}),Object(P.jsx)(he.a,{required:!0,name:"body",className:"form-control",component:"input"})]})]}),Object(P.jsxs)(de.a,{children:[Object(P.jsx)(je.a,{type:"submit",disabled:r,color:"primary",children:"Save"}),Object(P.jsx)(je.a,{color:"secondary",onClick:a,children:"Cancel"})]})]})})}})},Oe=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editing:null},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.editing;return Object(P.jsxs)(C.a,{fluid:!0,children:[Object(P.jsx)(W.a,{className:"my-2",color:"primary",onClick:function(){return e.setState({editing:{}})},children:"New Post"}),Object(P.jsx)(ee,{canEdit:function(){return!0},onEdit:function(t){return e.setState({editing:t})}}),t&&Object(P.jsx)(me,{post:t,onClose:function(){return e.setState({editing:null})}})]})}}]),a}(d.Component),xe=Q()(s||(s=Object(Y.a)(["\n  {\n    customers {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),pe=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(P.jsx)(X.b,{query:xe,children:function(e){var t=e.loading,a=e.error,n=e.data;return t?"Loading...":a?"Error! ".concat(a.message):Object(P.jsx)("div",{className:"container",children:Object(P.jsxs)("div",{className:"panel panel-default",children:[Object(P.jsx)("div",{className:"panel-heading",children:Object(P.jsx)("h4",{children:Object(P.jsx)(S.b,{to:"/customers/edit",className:"btn btn-primary",children:"Add Customer"})})}),Object(P.jsx)("div",{className:"panel-body",children:Object(P.jsxs)("table",{className:"table table-stripe",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"Name"}),Object(P.jsx)("th",{children:"Producer"}),Object(P.jsx)("th",{children:"Rating"})]})}),Object(P.jsx)("tbody",{children:n.customers.map((function(e,t){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)(S.b,{to:"/customer/edit".concat("/",e.id),children:e.name})}),Object(P.jsx)("td",{children:e.producer}),Object(P.jsx)("td",{children:e.rating})]},t)}))})]})})]})})}})}}]),a}(d.Component),ge=a(167),ve=Q()(c||(c=Object(Y.a)(["\n  query customer($id: ID!) {\n    customer(id: $id) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),fe=Q()(i||(i=Object(Y.a)(["\n  mutation updateCustomer(\n    $id: ID!\n    $name: String!\n    $producer: String!\n    $rating: Float!\n  ) {\n    updateCustomer(id: $id, name: $name, producer: $producer, rating: $rating) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),ye=Q()(l||(l=Object(Y.a)(["\n  mutation addCustomer($name: String!, $producer: String!, $rating: Float!) {\n    addCustomer(name: $name, producer: $producer, rating: $rating) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),Ne=Q()(o||(o=Object(Y.a)(["\n  mutation deleteCustomer($id: ID!) {\n    deleteCustomer(id: $id) {\n      id\n    }\n  }\n"]))),Se=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,isEdit:!!e.match.params.id},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{children:[Object(P.jsxs)(y.a,{variant:"primary",children:["Customer ",this.state.isEdit?"Edit":"Add"]}),Object(P.jsx)("h4",{children:Object(P.jsx)(S.b,{to:"/customers",className:"btn btn-primary",children:"Customer List"})}),Object(P.jsx)("hr",{}),this.state.isEdit?Object(P.jsx)(X.b,{query:ve,variables:{id:this.state.id},children:function(t){var a=t.loading,n=t.error,r=t.data;return a?e.showLoading():n?"Error! ".concat(n.message):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(X.a,{mutation:fe,onCompleted:function(){return e.props.history.push("/customers")},children:function(t,a){var n=a.loading,s=a.error;return e.showForm(t,n,s,r)}}),Object(P.jsx)(X.a,{mutation:Ne,onCompleted:function(){return e.props.history.push("/customers")},children:function(t,a){var n=a.loading,s=a.error;return Object(P.jsxs)("div",{children:[Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault(),t({variables:{id:r.customer.id}})},children:Object(P.jsxs)("div",{className:"container panel-body",children:[Object(P.jsx)("p",{}),Object(P.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Delete"})]})}),n&&e.showLoading(),s&&Object(P.jsx)("p",{children:"Error :( Please try again"})]})}},r.customer.id)]})}}):Object(P.jsx)(X.a,{mutation:ye,onCompleted:function(t){e.props.history.push("/customer/edit".concat("/",t.addCustomer.id))},children:function(t,a){var n=a.loading,r=a.error;return e.showForm(t,n,r,null)}})]})}},{key:"showForm",value:function(e,t,a,n){var r,s,c,i=this;return Object(P.jsx)("div",{className:"container",children:Object(P.jsxs)("div",{className:"panel panel-default",children:[Object(P.jsx)("div",{className:"panel-heading",children:Object(P.jsx)("h3",{className:"panel-title",children:"Edit"})}),Object(P.jsxs)("div",{className:"panel-body",children:[Object(P.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i.state.isEdit?e({variables:{id:i.state.id,name:r.value,producer:s.value,rating:parseInt(c.value)}}):e({variables:{name:r.value,producer:s.value,rating:parseInt(c.value)}})},children:[Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(P.jsx)("input",{type:"text",className:"form-control",name:"name",ref:function(e){r=e},placeholder:"Name",defaultValue:n?n.customer.name:""})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"producer",children:"Producer:"}),Object(P.jsx)("input",{type:"text",className:"form-control",name:"producer",ref:function(e){s=e},placeholder:"Producer",defaultValue:n?n.customer.producer:""})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"rating",children:"Rating:"}),Object(P.jsx)("input",{type:"number",step:"1",className:"form-control",name:"rating",ref:function(e){c=e},placeholder:"Rating",defaultValue:n?n.customer.rating:""})]}),Object(P.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit"})]}),t&&this.showLoading(),a&&Object(P.jsx)("p",{children:"Error :( Please try again"})]})]})})}},{key:"showLoading",value:function(){return Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)(ge.a,{animation:"border",role:"status",variant:"info",children:Object(P.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),a}(d.Component),ke=Object(k.g)(Se),Ce=Object(k.g)((function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)("img",{src:p,alt:"Search",height:"90"})}),Object(P.jsx)("br",{}),Object(P.jsx)("div",{style:{margin:"12px"},children:Object(P.jsxs)("form",{className:"searchinput",onSubmit:function(t){t.preventDefault(),e.handleClose(),e.history.push("/products?search="+t.target.search.value)},children:[Object(P.jsx)("input",{type:"text",placeholder:"Search ...",name:"search",id:"search"}),Object(P.jsx)("button",{type:"submit",children:Object(P.jsx)("i",{className:"fa fa-search"})})]})}),Object(P.jsx)("br",{})]})})),Le=a(14),Ie=a(46),we=a(55),Ae=Object(d.createContext)(),Te=function(e){var t=e.reducer,a=e.initialState,n=e.children;return Object(P.jsx)(Ae.Provider,{value:Object(d.useReducer)(t,a),children:n})},Pe=function(){return Object(d.useContext)(Ae)},Fe=(a(58),Object(k.g)((function(e){var t=Pe(),a=Object(Le.a)(t,2);Object(we.a)(a[0]);var n=a[1];function r(t){e.history.push("/pid/"+t)}return Object(P.jsx)(_.a,{children:Object(P.jsxs)(w.a,{className:"Card",children:[Object(P.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage,onClick:function(){return r(e.value._id)}}),Object(P.jsx)(y.a,{className:"Overlap",variant:"primary",children:e.value.brand}),0===e.value.rating?null:Object(P.jsx)(y.a,{className:"OverlapRating",variant:"success",children:Number(e.value.rating).toFixed(2)}),Object(P.jsx)(B.a,{style:{margin:0,padding:0},children:Object(P.jsxs)("tbody",{children:[Object(P.jsx)("tr",{children:Object(P.jsx)("td",{style:{margin:0,padding:0},colSpan:"3",className:"Title",onClick:function(){return r(e.value._id)},children:e.value.product.substring(0,36)})}),Object(P.jsxs)("tr",{children:[Object(P.jsxs)("td",{style:{margin:0,padding:0,border:"none"},className:"Price",onClick:function(){return r(e.value._id)},children:["\u20b9 ",e.value.price]}),Object(P.jsxs)("td",{style:{margin:0,padding:0,border:"none"},className:"PriceCancel",children:["\u20b9 ",e.value.mrp]}),Object(P.jsx)("td",{style:{margin:0,padding:0,border:"none"},children:Object(P.jsx)("img",{src:p,alt:p,height:"30",onClick:function(){return t=e.value,n({type:"ADD_TO_BASKET",item:t}),void V.b.success("\ud83d\uded2 "+t.product,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t}})})]})]})})]})})}))),Ee=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;Object(b.a)(this,a),n=t.call(this,e);var r=new URLSearchParams(n.props.location.search);return n.state={curPage:1,prevY:0,aList:[],showLoadMore:!0,showNoContent:!1,continueIncrement:!0,search:r.get("search"),brand:r.get("brand"),category:r.get("category"),sort:r.get("sort")},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getData();this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.location!==e.location){var a=new URLSearchParams(this.props.location.search);this.setState({curPage:1,prevY:0,aList:[],showLoadMore:!0,showNoContent:!1,continueIncrement:!0,search:a.get("search"),brand:a.get("brand"),category:a.get("category"),sort:a.get("sort")},(function(){t.getData()}))}}},{key:"handleObserver",value:function(e,t){var a=e[0].boundingClientRect.y;this.state.continueIncrement&&this.state.prevY>a&&this.getData(),this.setState({prevY:a})}},{key:"getData",value:function(){var e=this,t={};null!==this.state.search&&(t={$or:[{product:{$regex:this.state.search,$options:"i"}},{additionalInfo:{$regex:this.state.search,$options:"i"}},{brand:{$regex:this.state.search,$options:"i"}},{category:{$regex:this.state.search,$options:"i"}}]}),null!==this.state.brand&&null!==this.state.category&&(t.brand=this.state.brand,t.category=this.state.category),null!==this.state.brand&&(t.brand=this.state.brand),null!==this.state.category&&(t.category=this.state.category);var a={};switch(this.state.sort){case"price":a={price:1};break;case"pricedesc":a={price:-1};break;case"rating":a={rating:1};break;case"ratingdesc":a={rating:-1};break;case"name":a={product:1};break;case"namedesc":a={product:-1};break;case"id":a={_id:-1};break;case"iddesc":a={_id:1};break;default:a={rating:-1}}T.a.post("http://localhost:3000/api/mongoclient?collection=productmyntra",{projection:{productId:1,product:1,searchImage:1,brand:1,rating:1,price:1,mrp:1},search:t,sort:a,limit:12,skip:12*(this.state.curPage-1)}).then((function(t){200===t.status?1===e.state.curPage?e.setState({aList:t.data,curPage:e.state.curPage+1,continueIncrement:!(t.data.length<12),showLoadMore:!(t.data.length<12)}):e.setState({aList:[].concat(Object(Ie.a)(e.state.aList),Object(Ie.a)(t.data)),curPage:e.state.curPage+1},(function(){})):204===t.status&&e.setState({showLoadMore:!1,showNoContent:1===e.state.curPage,continueIncrement:!1})}),(function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this,t=[],a=0,n=Object.entries(this.state.aList);a<n.length;a++){var r=Object(Le.a)(n[a],2),s=r[0],c=r[1];t.push(Object(P.jsx)(Fe,{index:s,value:c},s))}return Object(P.jsxs)(P.Fragment,{children:[0===this.state.aList.length?null:Object(P.jsx)(L.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:t}),Object(P.jsxs)("div",{ref:function(t){return e.loadingRef=t},children:[this.state.showLoadMore?this.showLoading():null,this.state.showNoContent?Object(P.jsxs)("div",{className:"center",children:[Object(P.jsx)("img",{src:H,alt:H,height:"300",className:"center"}),Object(P.jsx)("br",{}),Object(P.jsx)(S.b,{to:"/products",className:"btn btn-primary",children:"Explore more with us!"})]}):null]}),Object(P.jsx)(V.a,{})]})}},{key:"showLoading",value:function(){return Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)(ge.a,{animation:"border",role:"status",variant:"info",children:Object(P.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),a}(d.Component),De=Object(k.g)(Ee),_e=a(40),qe=a(106),He=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;Object(b.a)(this,a),n=t.call(this,e);var r=new URLSearchParams(n.props.location.search);return n.state={search:r.get("search"),brand:r.get("brand"),category:r.get("category"),sort:r.get("sort"),brandList:JSON.parse(localStorage.getItem("brandList")),categoryList:JSON.parse(localStorage.getItem("categoryList"))},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSearchInputThrottled=Object(qe.debounce)(n.handleChange,1500),null==n.state.brandList&&n.getData("brand"),null==n.state.categoryList&&n.getData("category"),n}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=this;this.setState(Object(_e.a)({},e.target.name,e.target.value),(function(){t.redirectURL()}))}},{key:"redirectURL",value:function(){var e=window.location.pathname+"?";null!==this.state.search&&""!==this.state.search&&(e=e+"search="+this.state.search),null!==this.state.category&&""!==this.state.category&&(e=e+"&category="+this.state.category),null!==this.state.brand&&""!==this.state.brand&&(e=e+"&brand="+this.state.brand),null!==this.state.sort&&""!==this.state.sort&&(e=e+"&sort="+this.state.sort),this.props.history.push(e)}},{key:"getData",value:function(e){var t=this;T.a.post("http://localhost:3000/api/mongoclient/distinct?collection=productmyntra&id="+e,{}).then((function(a){"brand"===e?(localStorage.setItem("brandList",JSON.stringify(a.data)),t.setState({brandList:a.data})):"category"===e&&(localStorage.setItem("categoryList",JSON.stringify(a.data)),t.setState({categoryList:a.data}))}),(function(e){console.log(e)}))}},{key:"render",value:function(){return Object(P.jsx)("div",{className:"container",style:{paddingBottom:"8px"},children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsxs)("div",{name:"search",className:"col-3",children:[Object(P.jsx)("label",{children:"Search :"}),Object(P.jsx)("br",{}),Object(P.jsx)("input",{className:"form-control",name:"search",id:"search",defaultValue:null!==this.state.search?this.state.search:"",onChange:this.handleSearchInputThrottled})]}),Object(P.jsxs)("div",{name:"sort",className:"col-3",children:[Object(P.jsx)("label",{children:"Sort :"}),Object(P.jsxs)("select",{className:"custom-select",name:"sort",id:"sort",value:null!==this.state.sort?this.state.sort:"",onChange:this.handleChange,children:[Object(P.jsx)("option",{value:"",children:"All"}),Object(P.jsx)("option",{value:"price",children:"Price \u2191"}),Object(P.jsx)("option",{value:"pricedesc",children:"Price \u2193"}),Object(P.jsx)("option",{value:"rating",children:"Rating \u2191"}),Object(P.jsx)("option",{value:"ratingdesc",children:"Rating \u2193"}),Object(P.jsx)("option",{value:"name",children:"Name \u2191"}),Object(P.jsx)("option",{value:"namedesc",children:"Name \u2193"})]})]}),null!==this.state.brandList?Object(P.jsxs)("div",{name:"brand",className:"col-3",children:[Object(P.jsx)("label",{children:"Brand :"}),Object(P.jsxs)("select",{className:"custom-select",name:"brand",id:"brand",defaultValue:null!==this.state.brand?this.state.brand:"",onChange:this.handleChange,children:[Object(P.jsx)("option",{value:"",children:"All"},"NA"),this.state.brandList.map((function(e){return Object(P.jsx)("option",{value:e,children:e},e)}))]})]}):null,null!==this.state.categoryList?Object(P.jsxs)("div",{name:"category",className:"col-3",children:[Object(P.jsx)("label",{children:"Category :"}),Object(P.jsxs)("select",{className:"custom-select",name:"category",id:"category",defaultValue:this.state.category,onChange:this.handleChange,children:[Object(P.jsx)("option",{value:"",children:"All"},"NA"),this.state.categoryList.map((function(e){return Object(P.jsx)("option",{value:e,children:e},e)}))]})]}):null]})})}}]),a}(d.Component),Re=Object(k.g)(He),Be=function(e){var t=Pe(),a=Object(Le.a)(t,2);Object(we.a)(a[0]);var n=a[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(W.a,{className:"btn btn-primary",style:{width:"-webkit-fill-available"},onClick:function(){return t=e.aObj,n({type:"ADD_TO_BASKET",item:t}),void V.b.success("\ud83d\uded2 "+t.product,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t},children:"Add to Cart"}),Object(P.jsx)(V.a,{})]})},Ve=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,aObj:{},isEdit:!!e.match.params.id,isLogined:!!localStorage.getItem("name")},n.getData(e.match.params.id),n}return Object(u.a)(a,[{key:"getData",value:function(e){var t=this;T.a.post("http://localhost:3000/api/mongoclient/id?collection=productmyntra&id="+e,{}).then((function(e){t.setState({aObj:e.data})}),(function(e){console.log(e)}))}},{key:"render",value:function(){return Object(P.jsxs)("div",{children:[Object(P.jsxs)(y.a,{variant:"primary",children:["Product ",this.state.isEdit?"Deails":"Add"]}),0===Object.keys(this.state.aObj).length?this.showLoading():this.showData(this.state.aObj)]})}},{key:"showLoading",value:function(){return Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)(ge.a,{animation:"border",role:"status",variant:"info",children:Object(P.jsx)("span",{className:"sr-only",children:"Loading..."})})})}},{key:"isMobile",value:function(){var e=/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());return e}},{key:"getTitleHeading",value:function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h3",{style:{marginLeft:"16px"},children:e.product}),Object(P.jsx)("hr",{}),Object(P.jsx)("p",{style:{marginLeft:"24px"},children:e.additionalInfo})]})}},{key:"showVarient",value:function(e){return Object(P.jsx)(P.Fragment,{children:null!==e&&e.length>1?Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Varient"}),Object(P.jsx)("td",{colSpan:"2",children:Object(P.jsxs)("select",{className:"custom-select",name:"varient",id:"varient",defaultValue:"",children:[Object(P.jsx)("option",{value:"",children:"Not Selected"},"NA"),e.map((function(e){return e.available?e.inventory<6?Object(P.jsxs)("option",{value:e.label,children:[e.label," - ",e.inventory," Left"]},e.skuId):Object(P.jsx)("option",{value:e.label,children:e.label},e.skuId):null}))]})})]},"varient"):null})}},{key:"showData",value:function(e){return Object(P.jsx)(P.Fragment,{children:this.isMobile()?Object(P.jsxs)(P.Fragment,{children:[this.getTitleHeading(e),Object(P.jsx)("table",{className:"table table-stripe",children:Object(P.jsxs)("tbody",{children:[Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:"Price",children:Object(P.jsxs)("b",{children:["Price : ",e.price," \u20b9"]})}),Object(P.jsxs)("td",{className:"PriceCancel",children:["MRP : ",e.mrp," \u20b9"]}),Object(P.jsxs)("td",{children:[e.discount," \u20b9 / ",Object(P.jsx)("b",{children:e.discountDisplayLabel})]})]},"price"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Rating"}),Object(P.jsxs)("td",{children:[Object(P.jsxs)("b",{children:[" ",e.rating]})," / 5 \ud83c\udf1f"]}),Object(P.jsxs)("td",{children:["Total Rating: ",e.ratingCount]})]},"rating"),Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:"3",children:this.showImages(e.images)})},"images"),this.showVarient(e.inventoryInfo),Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:"3",children:Object(P.jsx)(Be,{aObj:e})})},"cart"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Brand"}),Object(P.jsx)("td",{colSpan:"2",children:e.brand})]},"brand"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Style"}),Object(P.jsxs)("td",{colSpan:"2",children:[e.gender," - ",e.category]})]},"style"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Color"}),Object(P.jsx)("td",{colSpan:"2",children:e.primaryColour})]},"primaryColour"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Season"}),Object(P.jsx)("td",{colSpan:"2",children:e.season})]},"season")]})})]}):Object(P.jsxs)(P.Fragment,{children:[this.getTitleHeading(e),Object(P.jsx)("hr",{}),Object(P.jsxs)(L.a,{style:{margin:"0px"},children:[Object(P.jsx)(_.a,{children:this.showImages(e.images)}),Object(P.jsx)(_.a,{children:Object(P.jsx)("table",{className:"table table-stripe",children:Object(P.jsxs)("tbody",{children:[Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:"Price",style:{borderTop:"0px"},children:Object(P.jsxs)("b",{children:["Price : ",e.price," \u20b9"]})}),Object(P.jsxs)("td",{className:"PriceCancel",style:{borderTop:"0px"},children:["MRP : ",e.mrp," \u20b9"]}),Object(P.jsxs)("td",{style:{borderTop:"0px"},children:[e.discount," \u20b9 / ",Object(P.jsx)("b",{children:e.discountDisplayLabel})]})]},"price"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Rating"}),Object(P.jsxs)("td",{children:[Object(P.jsxs)("b",{children:[" ",Number(e.rating).toFixed(2)]})," / 5 \ud83c\udf1f"]}),Object(P.jsxs)("td",{children:["Total Rating: ",e.ratingCount]})]},"rating"),this.showVarient(e.inventoryInfo),Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:"3",children:Object(P.jsx)(Be,{aObj:e})})},"cart"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Brand"}),Object(P.jsx)("td",{colSpan:"2",children:e.brand})]},"brand"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Style"}),Object(P.jsxs)("td",{colSpan:"2",children:[e.gender," - ",e.category]})]},"style"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Color"}),Object(P.jsx)("td",{colSpan:"2",children:e.primaryColour})]},"primaryColour"),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:"Season"}),Object(P.jsx)("td",{colSpan:"2",children:e.season})]},"season")]})})})]})]})})}},{key:"showImages",value:function(e){return Object(P.jsx)(C.a,{children:Object(P.jsx)(I.a,{children:e.map((function(t,a){return null!=t.src&&t.src.length>0?Object(P.jsxs)(I.a.Item,{interval:2e3,children:[Object(P.jsx)("img",{height:"450rem",className:"d-block w-100",alt:t.view,src:t.src}),Object(P.jsx)(I.a.Caption,{children:Object(P.jsxs)("p",{children:[a+1," / ",e.length]})})]},a):null}))})})}}]),a}(d.Component),Me=Object(k.g)(Ve),$e=a(37),Ue={basket:void 0!==localStorage.getItem("cart")&&null!==localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],user:null},Ke=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price*t.qty+e}),0)},Je=function(e,t){switch(t.type){case"GET_BASKET":return Object($e.a)(Object($e.a)({},e),{},{basket:Object(Ie.a)(e.basket)});case"ADD_TO_BASKET":var a=e.basket.findIndex((function(e){return e._id===t.item._id})),n=[];if(a>=0){var r=(n=Object(Ie.a)(e.basket))[a];r.qty<10?r.qty=r.qty+1:r.qty=10,n[a]=r}else{var s=t.item;s.qty=1,n=[].concat(Object(Ie.a)(e.basket),[s])}return localStorage.setItem("cart",JSON.stringify(n)),d(n),Object($e.a)(Object($e.a)({},e),{},{basket:n});case"UPDATE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e._id===t.item._id})),i=Object(Ie.a)(e.basket);return i[c]=t.item,localStorage.setItem("cart",JSON.stringify(i)),d(i),Object($e.a)(Object($e.a)({},e),{},{basket:i});case"EMPTY_BASKET":return localStorage.setItem("cart",JSON.stringify([])),d([]),Object($e.a)(Object($e.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var l=e.basket.findIndex((function(e){return e._id===t._id})),o=Object(Ie.a)(e.basket);return l>=0?o.splice(l,1):console.warn("Cant remove product (id: ".concat(t._id,") as its not in basket!")),localStorage.setItem("cart",JSON.stringify(o)),d(o),Object($e.a)(Object($e.a)({},e),{},{basket:o});case"SET_USER":return Object($e.a)(Object($e.a)({},e),{},{user:t.user});default:return e}function d(e){if(localStorage.getItem("uid")){T.a.put("http://localhost:3000/api/mongoclient/updateone?collection=cart&id="+localStorage.getItem("uid"),{data:e}).then((function(e){}),(function(e){}))}}},ze=Object(k.g)((function(e,t){var a=Pe(),n=Object(Le.a)(a,2);Object(we.a)(n[0]);var r=n[1],s=Object(d.useState)(e.value.qty),c=Object(Le.a)(s,2),i=c[0],l=c[1],o=Object(d.useState)(e.value.price*e.value.qty),j=Object(Le.a)(o,2),h=j[0],b=j[1];return Object(P.jsx)(w.a,{className:"Card",children:Object(P.jsxs)(L.a,{children:[Object(P.jsx)(_.a,{className:"col-xs-6 col-sm-6 col-md-3 col-lg-3 col-xl-3",children:Object(P.jsx)(S.b,{to:"/pid".concat("/",e.value._id),children:Object(P.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage})})}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(S.b,{to:"/pid".concat("/",e.value._id),style:{color:"rgba(0,0,0,.5)"},children:Object(P.jsx)("h5",{children:e.value.product})}),Object(P.jsx)("p",{style:{marginBottom:"4px"},children:e.value.brand}),Object(P.jsxs)("p",{style:{marginBottom:"4px"},children:["Rating : ",Object(P.jsxs)("b",{children:[" ",e.value.rating]})," / 5 \ud83c\udf1f"]}),Object(P.jsxs)("p",{className:"PriceCancel",children:["MRP : \u20b9 ",e.value.mrp]}),Object(P.jsxs)("p",{style:{fontWeight:"bold",padding:"0px"},className:"Price",children:["Price : \u20b9 ",e.value.price]}),Object(P.jsxs)(L.a,{children:[Object(P.jsx)(_.a,{children:Object(P.jsx)(W.a,{className:"btn-danger",onClick:function(){r({type:"REMOVE_FROM_BASKET",_id:e.value._id})},style:{padding:"2px",margin:"0px"},children:"Remove"})}),Object(P.jsxs)(_.a,{children:["Qty :"," ",t?Object(P.jsx)("select",{name:"qty",id:"qty",onChange:function(t){b(e.value.price*t.target.value),l(t.target.value);var a=e.value;a.qty=Number(t.target.value),r({type:"UPDATE_FROM_BASKET",item:a})},value:i,children:Array.apply(1,Array(10)).map((function(e,t){return Object(P.jsx)("option",{value:t+1,children:t+1},t+1)}))}):Object(P.jsx)("b",{children:i})]}),Object(P.jsx)(_.a,{children:Object(P.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",textAlign:"end",marginRight:"8px"},className:"Price",children:["\u20b9 ",h]})})]})]})]})})})),We=function(){return Object(P.jsxs)("div",{className:"center",children:[Object(P.jsx)("h3",{children:"Your cart is Empty!"}),Object(P.jsx)("img",{src:p,alt:p,height:"200",className:"center"}),Object(P.jsx)("br",{}),Object(P.jsx)(S.b,{to:"/",className:"btn btn-primary",children:"Continue Shopping"})]})},Ye=Object(k.g)((function(e){var t=Pe(),a=Object(Le.a)(t,1)[0].basket,n=Object(d.useState)([]),r=Object(Le.a)(n,2),s=(r[0],r[1]);return Object(d.useEffect)((function(){if(localStorage.getItem("uid")){T.a.post("http://localhost:3000/api/mongoclient/id?collection=cart&id="+localStorage.getItem("uid"),{}).then((function(e){localStorage.setItem("cart",JSON.stringify(e.data.data)),s(e.data.data)}),(function(e){console.log(e),s([])}))}}),[]),Object(P.jsx)(P.Fragment,{children:null===a||void 0===a||0===a.length?Object(P.jsx)(We,{}):Object(P.jsxs)(P.Fragment,{children:[null===a||void 0===a?void 0:a.map((function(e){return Object(P.jsx)(ze,{value:e},e._id)})),Object(P.jsx)(w.a,{className:"Card",style:{padding:"10px"},children:Object(P.jsxs)(L.a,{style:{margin:"0px"},children:[Object(P.jsx)(_.a,{children:Object(P.jsxs)("h5",{style:{textAlign:"center"},children:[a.length," Items"]})}),Object(P.jsx)(_.a,{children:Object(P.jsxs)("h5",{style:{textAlign:"center"},children:[Ke(a)," \u20b9"," "]})}),Object(P.jsx)(_.a,{children:Object(P.jsx)(S.b,{to:"/confirm",className:"btn btn-primary",style:{width:"100%"},children:"Buy Now"})})]})})]})})})),Ge=a.p+"static/media/cartcount.c5fc1bff.svg",Qe=function(e){var t=Pe(),a=Object(Le.a)(t,1)[0].basket;return Object(P.jsxs)(L.a,{style:{margin:"0px"},children:[Object(P.jsx)("img",{src:Ge,alt:"Cart",height:"35"}),Object(P.jsx)("p",{className:"CartText",style:{margin:"0px",padding:"0px",paddingTop:"3px"},children:a.length})]})},Xe=a(168),Ze=a(169),et=a.p+"static/media/addaddress.641a1b89.svg",tt=function(){return Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)(Ze.a,{animation:"border",role:"status",variant:"primary"})})},at=function(e,t){e.history.push("/address/"+t)},nt=function(e){return Object(P.jsx)(Xe.a,{className:"Card",onClick:function(){return at(e,"new")},children:Object(P.jsxs)("h5",{children:[Object(P.jsx)("img",{src:et,alt:"Cart",height:"50",width:"50",style:{margin:20}}),Object(P.jsx)("br",{}),"Add Address"]})},"empty")},rt=Object(k.g)((function(e){var t=Object(d.useState)([]),a=Object(Le.a)(t,2),n=a[0],r=a[1],s=Object(d.useState)(!1),c=Object(Le.a)(s,2),i=c[0],l=c[1];return Object(d.useEffect)((function(){if(localStorage.getItem("uid")){l(!0),T.a.post("http://localhost:3000/api/mongoclient?collection=address",{search:{uid:localStorage.getItem("uid")}}).then((function(e){l(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&r(e.data)}),(function(e){l(!1),r([])}))}else e.history.push("/login")}),[]),Object(P.jsx)("div",{children:i?tt():Object(P.jsxs)("div",{className:"text-center py-3",children:[nt(e),null===n||void 0===n?void 0:n.map((function(t,a){return Object(P.jsxs)(Xe.a,{className:"CardAddress",onClick:function(){return at(e,t.addrid)},children:[Object(P.jsx)("h5",{className:"AddrLineText",children:t.firstName+" "+t.lastName}),Object(P.jsxs)("p",{className:"AddrLineText",children:[Object(P.jsx)("b",{children:"Mobile No : "}),t.mobileno]}),Object(P.jsx)("p",{className:"AddrLineText",children:void 0!==t.atype?t.atype:null}),Object(P.jsx)("p",{className:"AddrLineText",children:t.address}),Object(P.jsx)("p",{className:"AddrLineText",children:void 0!==t.landmark?t.landmark:null}),Object(P.jsx)("p",{className:"AddrLineText",children:t.area}),Object(P.jsx)("p",{className:"AddrLineText",children:t.city+" - "+t.pincode}),Object(P.jsx)("p",{className:"AddrLineText",children:t.state+", "+t.country})]},a)}))]})})})),st=a(170),ct=a(171),it=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).composeValidators=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}},n.state={addressID:e.match.params.id,isLoading:"new"!==e.match.params.id,address:[]},n.getData(n.state.addressID),n}return Object(u.a)(a,[{key:"getData",value:function(e){var t=this;if("new"===e);else if(void 0===e)this.props.history.push("/address");else if(localStorage.getItem("uid")){T.a.post("http://localhost:3000/api/mongoclient?collection=address",{search:{uid:localStorage.getItem("uid"),addrid:this.state.addressID}}).then((function(e){t.setState({isLoading:!1,address:e.data},(function(){1===this.state.address.length&&this.state.address[0].addrid===this.state.addressID||this.props.history.push("/address")}))}),(function(e){console.log(e),t.setState({isLoading:!1,address:[]}),alert("Something went Wrong! Try again...")}))}else this.props.history.push("/login")}},{key:"onFormSubmit",value:function(e){var t=this;e.date=(new Date).toISOString(),e.uid=localStorage.getItem("uid");e.addrid=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,9);var a="http://localhost:3000/api/";this.setState({isLoading:!0});var n="new"===this.state.addressID?a+"mongoclient/insert?collection=address":a+"mongoclient/updateone?collection=address&id="+this.state.address[0]._id;T.a.put(n,e).then((function(e){t.props.history.push("/address")}),(function(e){t.setState({isLoading:!1},(function(){console.log(e),alert("Something went Wrong! Try again...")}))}))}},{key:"deleteData",value:function(){var e=this;this.setState({isLoading:!0}),T.a.delete("http://localhost:3000/api/mongoclient/delete?collection=address&id="+this.state.address[0]._id,{}).then((function(t){e.props.history.push("/address")}),(function(t){e.setState({isLoading:!1},(function(){console.log(t),alert("Something went Wrong! Try again...")}))}))}},{key:"render",value:function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(st.a,{variant:"primary",style:{background:"#007bff"},children:void 0!==this.state.addressID&&"new"===this.state.addressID?"Add new address":"Edit address"}),this.state.isLoading?this.showLoading():this.showData()]})}},{key:"showLoading",value:function(){return Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)(Ze.a,{animation:"border",role:"status",variant:"primary"})})}},{key:"isMobile",value:function(){var e=/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());return e}},{key:"openLink",value:function(){this.props.history.push("/address")}},{key:"showData",value:function(){var e=this;return Object(P.jsx)(ct.a,{children:Object(P.jsx)(he.b,{onSubmit:function(t){return e.onFormSubmit(t)},render:function(t){var a=t.handleSubmit,n=t.form,r=t.submitting,s=t.pristine;t.values;return Object(P.jsxs)("form",{onSubmit:a,children:[Object(P.jsx)(he.a,{name:"atype",validate:e.composeValidators(e.required),children:function(t){t.input;var a,n=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Address Type"}),Object(P.jsxs)(he.a,(a={type:"select",defaultValue:"Home",name:"atype",component:"select",className:"form-control"},Object(_e.a)(a,"defaultValue",1===e.state.address.length?e.state.address[0].atype:"Home"),Object(_e.a)(a,"children",[Object(P.jsx)("option",{value:"Home",children:"Home"}),Object(P.jsx)("option",{value:"Office",children:"Office"}),Object(P.jsx)("option",{value:"Billing",children:"Billing"}),Object(P.jsx)("option",{value:"Other",children:"Other"})]),a)),n.error&&n.touched&&Object(P.jsx)("span",{children:n.error})]})}}),Object(P.jsx)(he.a,{name:"firstName",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"First Name"}),Object(P.jsx)(he.a,{required:!0,type:"text",name:"firstName",className:"form-control",component:"input",placeholder:"Enter First Name",defaultValue:1===e.state.address.length?e.state.address[0].firstName:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"lastName",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Last Name"}),Object(P.jsx)(he.a,{required:!0,type:"text",name:"lastName",className:"form-control",component:"input",placeholder:"Enter Last Name",defaultValue:1===e.state.address.length?e.state.address[0].lastName:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"mobileno",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Mobile number"}),Object(P.jsx)(he.a,{required:!0,minLength:"10",maxLength:"10",min:"999999999",max:"9999999999",type:e.isMobile?"number":"text",name:"mobileno",className:"form-control",component:"input",placeholder:"Enter Mobile number",defaultValue:1===e.state.address.length?e.state.address[0].mobileno:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"address",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Flat, House no., Building, Company, Apartment"}),Object(P.jsx)(he.a,{required:!0,type:"text",name:"address",className:"form-control",component:"input",placeholder:"Enter Address",defaultValue:1===e.state.address.length?e.state.address[0].address:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"area",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Area, Colony, Street, Sector, Village"}),Object(P.jsx)(he.a,{required:!0,type:"text",name:"area",className:"form-control",component:"input",placeholder:"Enter Area",defaultValue:1===e.state.address.length?e.state.address[0].area:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"landmark",children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Landmark"}),Object(P.jsx)(he.a,{type:"text",name:"landmark",className:"form-control",component:"input",placeholder:"E.g. Near Flyover, Behind Cinema, etc.",defaultValue:1===e.state.address.length?e.state.address[0].landmark:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"country",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Country"}),Object(P.jsx)(he.a,{required:!0,type:"text",name:"country",className:"form-control",component:"input",placeholder:"Enter country",defaultValue:1===e.state.address.length?e.state.address[0].country:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"pincode",validate:e.composeValidators(e.required,e.mustBeNumber),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Pincode"}),Object(P.jsx)(he.a,{required:!0,minLength:"6",maxLength:"6",min:"99999",max:"999999",type:e.isMobile?"number":"text",name:"pincode",className:"form-control",component:"input",placeholder:"Enter Pincode",defaultValue:1===e.state.address.length?e.state.address[0].pincode:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"state",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"Sate"}),Object(P.jsx)(he.a,{required:!0,type:"text",name:"state",className:"form-control",component:"input",placeholder:"Enter state",defaultValue:1===e.state.address.length?e.state.address[0].state:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsx)(he.a,{name:"city",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(P.jsxs)(le.a,{children:[Object(P.jsx)(oe.a,{children:"City"}),Object(P.jsx)(he.a,{required:!0,type:"text",name:"city",className:"form-control",component:"input",placeholder:"Enter city",defaultValue:1===e.state.address.length?e.state.address[0].city:""}),a.error&&a.touched&&Object(P.jsx)("span",{children:a.error})]})}}),Object(P.jsxs)("div",{className:"buttons",children:["new"===e.state.addressID?null:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(je.a,{color:"danger",type:"button",onClick:function(){return e.deleteData()},children:"Delete"}),"\xa0\xa0\xa0"]}),Object(P.jsx)(je.a,{color:"warning",type:"button",onClick:function(){return e.openLink()},children:"Cancel"}),Object(P.jsx)(P.Fragment,{children:"\xa0\xa0\xa0"}),Object(P.jsx)(je.a,{type:"button",color:"primary",onClick:n.reset,disabled:r||s,children:"Reset"}),Object(P.jsx)(P.Fragment,{children:"\xa0\xa0\xa0"}),Object(P.jsx)(je.a,{type:"submit",color:"success",disabled:r,children:"Submit"})]}),Object(P.jsx)("br",{})]})}})})}},{key:"required",value:function(e){return e?void 0:""}},{key:"mustBeNumber",value:function(e){return isNaN(e)?"Must be a number":void 0}}]),a}(d.Component),lt=Object(k.g)(it),ot=Object(k.g)((function(e){var t=Object(d.useState)(e.value.price*e.value.qty),a=Object(Le.a)(t,1)[0];return Object(P.jsx)(w.a,{className:"Card",children:Object(P.jsxs)(L.a,{children:[Object(P.jsx)(_.a,{className:"col-xs-6 col-sm-6 col-md-3 col-lg-3 col-xl-3",children:Object(P.jsx)(S.b,{to:"/pid".concat("/",e.value._id),children:Object(P.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage})})}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(S.b,{to:"/pid".concat("/",e.value._id),style:{color:"rgba(0,0,0,.5)"},children:Object(P.jsx)("h5",{children:e.value.product})}),Object(P.jsx)("p",{style:{marginBottom:"4px"},children:e.value.brand}),Object(P.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",marginBottom:"4px"},className:"itemPrice",children:["\u20b9 ",e.value.price]}),Object(P.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",marginBottom:"4px"},className:"qty",children:["Qty : ",e.value.qty]}),Object(P.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",textAlign:"end",marginRight:"8px"},className:"Price",children:["Price : \u20b9 ",a]})]})]})})})),dt=function(){return Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)(Ze.a,{animation:"border",role:"status",variant:"primary"})})},jt=function(e){var t="http://localhost:3000/api/";T.a.post(t+"sendPDF",{html:e}).then((function(e){window.open(t+"sendPDF/file?file="+e.data.filename,"_blank").focus()}),(function(e){console.log(e),alert("Something went Wrong! Try again...")}))},ht=Object(k.g)((function(e){var t=Object(d.useState)([]),a=Object(Le.a)(t,2),n=a[0],r=a[1],s=Object(d.useState)(!1),c=Object(Le.a)(s,2),i=c[0],l=c[1];return Object(d.useEffect)((function(){if(localStorage.getItem("uid")){l(!0),T.a.post("http://localhost:3000/api/mongoclient?collection=orders",{search:{uid:localStorage.getItem("uid")}}).then((function(e){l(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&r(e.data)}),(function(e){l(!1),r([])}))}else e.history.push("/login")}),[]),Object(P.jsx)("div",{children:i?dt():Object(P.jsxs)("div",{className:"text-center py-3",children:[null===n||void 0===n?void 0:n.map((function(e,t){var a;return Object(P.jsxs)(Xe.a,{className:"CardAddress",id:e.orderCreationId,children:[Object(P.jsx)("h5",{className:"AddrLineText",children:e.orderCreationId.toUpperCase()}),Object(P.jsx)("hr",{}),Object(P.jsxs)("p",{className:"AddrLineText",children:[Object(P.jsx)("b",{children:"Date : "}),e.serverdate]}),Object(P.jsxs)("p",{className:"AddrLineText",children:[Object(P.jsx)("b",{children:"Amount : "}),e.amount.slice(0,-2)+".00 "+e.currency]}),Object(P.jsxs)(Xe.a,{className:"CardAddress",children:[Object(P.jsx)("h5",{className:"AddrLineText",children:"Order Product"}),Object(P.jsx)("hr",{}),null===(a=e.product)||void 0===a?void 0:a.map((function(e){return Object(P.jsx)(ot,{value:e},e._id)}))]}),Object(P.jsxs)(Xe.a,{className:"CardAddress",children:[Object(P.jsx)("h5",{className:"AddrLineText",children:"Delivery Address"}),Object(P.jsx)("hr",{}),Object(P.jsx)("p",{className:"AddrLineText",children:Object(P.jsx)("b",{children:e.address.firstName+" "+e.address.lastName})}),Object(P.jsxs)("p",{className:"AddrLineText",children:["Mobile No :",e.address.mobileno]}),Object(P.jsx)("p",{className:"AddrLineText",children:void 0!==e.address.atype?e.address.atype:null}),Object(P.jsx)("p",{className:"AddrLineText",children:e.address.address}),Object(P.jsx)("p",{className:"AddrLineText",children:void 0!==e.address.landmark?e.address.landmark:null}),Object(P.jsx)("p",{className:"AddrLineText",children:e.address.area}),Object(P.jsx)("p",{className:"AddrLineText",children:e.address.city+" - "+e.address.pincode}),Object(P.jsx)("p",{className:"AddrLineText",children:e.address.state+", "+e.address.country})]}),Object(P.jsx)(je.a,{color:"danger",type:"button",onClick:function(){return jt(document.querySelector("#"+e.orderCreationId).innerHTML)},children:"PDF"})]},t)})),0===n.length?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(Xe.a,{className:"Card",children:[Object(P.jsx)("br",{}),Object(P.jsx)("h5",{children:"We are looking forward to receive your order."}),Object(P.jsx)("br",{})]},"empty"),Object(P.jsx)(We,{})]}):null]})})})),bt=function(){return Object(P.jsx)("div",{className:"text-center py-3",children:Object(P.jsx)(ge.a,{animation:"border",role:"status",variant:"primary"})})},ut=Object(k.g)((function(e){var t=Pe(),a=Object(Le.a)(t,2),n=a[0].basket,r=a[1],s=Object(d.useState)([]),c=Object(Le.a)(s,2),i=c[0],l=c[1],o=Object(d.useState)([]),j=Object(Le.a)(o,2),h=j[0],b=j[1],u=Object(d.useState)(""),m=Object(Le.a)(u,2),O=m[0],x=m[1],g=Object(d.useState)(!1),v=Object(Le.a)(g,2),f=v[0],N=v[1];function S(e){return new Promise((function(t){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){t(!1)},document.body.appendChild(a)}))}function k(){return(k=Object(ne.a)(ae.a.mark((function t(){var a,s,c,o,d,j,b,u,m,x,g;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.find((function(e){return e.addrid===O})),s="http://localhost:3000/api/razorpay/",t.next=4,S("https://checkout.razorpay.com/v1/checkout.js");case 4:if(t.sent){t.next=8;break}return alert("Razorpay SDK failed to load. Are you online?"),t.abrupt("return");case 8:return t.next=10,T.a.post(s+"payment/orders",{amount:Ke(n)});case 10:if(c=t.sent){t.next=14;break}return alert("Server error. Are you online?"),t.abrupt("return");case 14:o=c.data.order,d=o.amount,j=o.id,b=o.currency,u=o.receipt,m=c.data.razorpayPaymentKey,x=c.data.serverdate,g={key:m,amount:d.toString(),currency:b,name:"Pritam Ecom",description:"Pay-"+x,image:{logo:p},order_id:j,handler:function(){var t=Object(ne.a)(ae.a.mark((function t(n){var c,o;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={orderCreationId:j,razorpayPaymentId:n.razorpay_payment_id,razorpayOrderId:n.razorpay_order_id,razorpaySignature:n.razorpay_signature,receipt:u,amount:d.toString(),currency:b,serverdate:x,userdate:(new Date).toISOString(),uid:localStorage.getItem("uid"),name:a.firstName+" "+a.lastName,email:localStorage.getItem("email"),contact:a.mobileno,address:a,product:i},t.next=3,T.a.post(s+"payment/success",c);case 3:"success"===(o=t.sent).data.msg?(l([]),r({type:"EMPTY_BASKET"}),Object(V.b)("\ud83d\ude80 Your order "+o.data.orderId+" is successful put with us!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.history.push("/orders"),alert("\ud83d\ude80 Your order "+o.data.orderId+" is successful put with us!")):alert(o.data.msg);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),prefill:{name:a.firstName+" "+a.lastName,email:localStorage.getItem("email"),contact:a.mobileno},notes:{order_id:j,receipt:u,uid:localStorage.getItem("uid")},theme:{color:"#61dafb"}},new window.Razorpay(g).open();case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.addrid,(function(){I()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return Object(P.jsxs)("div",{children:[0!==h.length?Object(P.jsx)(y.a,{variant:"success",children:"Select a delivery address"}):null,null===h||void 0===h?void 0:h.map((function(e,t){return Object(P.jsxs)(w.a,{className:"CardAddress",style:{background:O===e.addrid?"#8bf1de":"none"},onClick:function(){return function(e){return C.apply(this,arguments)}(e)},children:[Object(P.jsx)("h5",{className:"AddrLineText",children:e.firstName+" "+e.lastName}),Object(P.jsxs)("p",{className:"AddrLineText",children:[Object(P.jsx)("b",{children:"Mobile No : "}),e.mobileno]}),Object(P.jsx)("p",{className:"AddrLineText",children:void 0!==e.atype?e.atype:null}),Object(P.jsx)("p",{className:"AddrLineText",children:e.address}),Object(P.jsx)("p",{className:"AddrLineText",children:void 0!==e.landmark?e.landmark:null}),Object(P.jsx)("p",{className:"AddrLineText",children:e.area}),Object(P.jsx)("p",{className:"AddrLineText",children:e.city+" - "+e.pincode}),Object(P.jsx)("p",{className:"AddrLineText",children:e.state+", "+e.country})]},t)}))]})}return Object(d.useEffect)((function(){if(localStorage.getItem("uid")){var t="http://localhost:3000/api/";T.a.post(t+"mongoclient/id?collection=cart&id="+localStorage.getItem("uid"),{}).then((function(e){localStorage.setItem("cart",JSON.stringify(e.data.data)),l(e.data.data)}),(function(e){console.log(e),l([])})),N(!0),T.a.post(t+"mongoclient?collection=address",{search:{uid:localStorage.getItem("uid")}}).then((function(e){N(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&b(e.data)}),(function(e){N(!1),b([])}))}else e.history.push("/login")}),[]),Object(P.jsxs)("div",{children:[Object(P.jsx)(y.a,{variant:"primary",children:"Order Review"}),f?bt():Object(P.jsx)(P.Fragment,{children:null===n||void 0===n||0===n.length?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(w.a,{className:"Card",children:[Object(P.jsx)("br",{}),Object(P.jsx)("h5",{style:{textAlign:"center"},children:"We are looking forward to receive your order."}),Object(P.jsx)("br",{})]},"empty"),Object(P.jsx)(We,{})]}):Object(P.jsxs)(P.Fragment,{children:[null===n||void 0===n?void 0:n.map((function(e){return Object(P.jsx)(ot,{value:e},e._id)})),I(),Object(P.jsx)(w.a,{className:"Card",style:{padding:"10px"},children:Object(P.jsxs)(L.a,{style:{margin:"0px"},children:[Object(P.jsx)(_.a,{children:Object(P.jsxs)("h5",{style:{textAlign:"center"},children:[n.length," Items"]})}),Object(P.jsx)(_.a,{children:Object(P.jsxs)("h5",{style:{textAlign:"center"},children:[Ke(n)," \u20b9"," "]})}),Object(P.jsx)(_.a,{children:0===h.length?Object(P.jsx)(W.a,{style:{width:"100%",background:"#dc3545",border:"#dc3545"},onClick:function(){return e.history.push("/address")},children:"Add Delivery Address"}):void 0!==O&&O.length>2?Object(P.jsx)(W.a,{style:{width:"100%"},onClick:function(){return k.apply(this,arguments)},children:"Pay with RAZORPAY"}):Object(P.jsx)(W.a,{style:{width:"100%",background:"#28a745",border:"#28a745"},children:"Select a delivery address"})})]})})]})}),Object(P.jsx)(V.a,{})]})})),mt=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={navExpanded:!1,minHight:window.innerHeight-160+"px",minHightFilter:window.innerHeight-260+"px",isLogin:!!localStorage.getItem("name"),name:localStorage.getItem("name"),imageUrl:localStorage.getItem("imageUrl"),show:!1},n.updateLogin=function(){n.setState({isLogin:!!localStorage.getItem("name"),name:localStorage.getItem("name"),imageUrl:localStorage.getItem("imageUrl")})},n.setNavExpanded=function(e){n.setState({navExpanded:e})},n.setNavClose=function(){n.setState({navExpanded:!1})},n.updateLogin=n.updateLogin.bind(Object(m.a)(n)),n.handleClose=n.handleClose.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"handleClose",value:function(){this.setState((function(e){return{show:!e.show}}))}},{key:"render",value:function(){return Object(P.jsxs)(S.a,{children:[Object(P.jsx)(v.a,{bg:"light",variant:"light",expand:"lg",style:{position:"sticky",top:0,zIndex:1},onToggle:this.setNavExpanded,expanded:this.state.navExpanded,children:Object(P.jsxs)("span",{style:{margin:"0px",width:"100%",display:"contents"},children:[Object(P.jsx)(v.a.Brand,{children:Object(P.jsxs)(S.b,{to:"/",onClick:this.setNavClose,className:"navbar-brand",children:[Object(P.jsx)("img",{src:p,alt:p,height:"30"})," Pritam Ecom"]})}),Object(P.jsx)(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(P.jsxs)(v.a.Collapse,{id:"basic-navbar-nav",children:[Object(P.jsxs)(f.a,{className:"mr-auto",onClick:this.setNavClose,children:[Object(P.jsx)(S.b,{to:"/",className:"nav-link",children:"Home"}),Object(P.jsx)(S.b,{to:"/products",className:"nav-link",children:"Products"}),Object(P.jsx)(S.b,{to:"/orders",className:"nav-link",children:"Orders"}),Object(P.jsx)(S.b,{to:"/about",className:"nav-link",children:"About"})]}),Object(P.jsx)("div",{onClick:this.handleClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:Object(P.jsx)("img",{src:g,alt:"Search",height:"35"})}),Object(P.jsx)(S.b,{to:"/cart",onClick:this.setNavClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:Object(P.jsx)(Qe,{})}),this.state.isLogin?Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(S.b,{to:"/profile",onClick:this.setNavClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:[Object(P.jsx)("img",{src:this.state.imageUrl,alt:"",height:"30"})," "+this.state.name]})}):Object(P.jsx)(S.b,{to:"/login",onClick:this.setNavClose,className:"nav-link",style:{float:"end"},children:Object(P.jsxs)("i",{className:"fa fa-sign-in","aria-hidden":"true",children:[" ","Login"]})})]})]})}),Object(P.jsx)("div",{children:Object(P.jsxs)(k.d,{children:[Object(P.jsx)(k.b,{exact:!0,path:"/",children:Object(P.jsxs)("div",{style:{minHeight:this.state.minHight},children:[Object(P.jsx)(E,{}),Object(P.jsx)(y.a,{variant:"primary",children:"Products"}),Object(P.jsx)(De,{})]})}),Object(P.jsxs)(k.b,{path:"/products",children:[Object(P.jsxs)("div",{style:{background:"#e5faf4"},children:[Object(P.jsx)(y.a,{variant:"success",children:"Products Filters"}),Object(P.jsx)(Re,{})]}),Object(P.jsx)(y.a,{variant:"primary",children:"Products"}),Object(P.jsx)("div",{style:{minHeight:this.state.minHightFilter},children:Object(P.jsx)(De,{})})]}),Object(P.jsx)(k.b,{exact:!0,path:"/pid/:id",children:Object(P.jsx)(Me,{})}),Object(P.jsx)(k.b,{exact:!0,path:["/login","/profile"],children:Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(z,{updateLogin:this.updateLogin})})}),Object(P.jsxs)(k.b,{exact:!0,path:"/post",children:[Object(P.jsx)(y.a,{variant:"primary",children:"Posts"}),Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(Oe,{})})]}),Object(P.jsxs)(k.b,{path:"/about",children:[Object(P.jsx)(y.a,{variant:"primary",children:"About"}),Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(q,{})})]}),Object(P.jsxs)(k.b,{exact:!0,path:"/cart",children:[Object(P.jsx)(y.a,{variant:"primary",children:"Cart"}),Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(Ye,{})})]}),Object(P.jsxs)(k.b,{exact:!0,path:"/address",children:[Object(P.jsx)(y.a,{variant:"primary",children:"Address"}),Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(rt,{})})]}),Object(P.jsx)(k.b,{exact:!0,path:"/address/:id",children:Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(lt,{})})}),Object(P.jsxs)(k.b,{path:"/orders",children:[Object(P.jsx)(y.a,{variant:"primary",children:"Order History"}),Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(ht,{})})]}),Object(P.jsx)(k.b,{path:"/confirm",children:Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(ut,{})})}),Object(P.jsxs)(k.b,{exact:!0,path:"/customers",children:[Object(P.jsx)(y.a,{variant:"primary",children:"List of Customers"}),Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(pe,{})})]}),Object(P.jsx)(k.b,{path:["/customer/edit/:id","/customers/edit"],children:Object(P.jsx)(ke,{})}),Object(P.jsx)(k.b,{path:"/notfound",children:Object(P.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(P.jsx)(R,{})})}),Object(P.jsx)(k.a,{to:"/notfound"})]})}),this.showSearch(),Object(P.jsx)("footer",{className:"border-top footer",bg:"light",variant:"light",children:Object(P.jsx)("div",{className:"footer-copyright text-center py-3",children:Object(P.jsxs)("p",{style:{margin:0},children:["\xa9 2020-21 :"," ",Object(P.jsx)(S.b,{to:"/",className:"nav-link",style:{display:"contents",padding:0},children:"Pritam Ecom"})]})})})]})}},{key:"showSearch",value:function(){return Object(P.jsx)(N.a,{show:this.state.show,onHide:this.handleClose,style:{maxWidth:"100%"},children:Object(P.jsxs)("div",{style:{width:"100%",marginTop:"12px",paddingRight:"12px"},children:[Object(P.jsx)("button",{onClick:this.handleClose,className:"CloseBtn",children:"X"}),Object(P.jsx)("br",{}),Object(P.jsx)(Ce,{handleClose:this.handleClose})]})})}}]),a}(d.Component),Ot=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,180)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},xt=a(23);a(148);h.a.render(Object(P.jsx)(xt.a,{client:be,children:Object(P.jsx)(Te,{initialState:Ue,reducer:Je,children:Object(P.jsx)(mt,{})})}),document.getElementById("root")),Ot()},58:function(e,t,a){},85:function(e,t,a){},96:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.88a5aab2.chunk.js.map