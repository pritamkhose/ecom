(this.webpackJsonpecom=this.webpackJsonpecom||[]).push([[0],{113:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a(26),c=a.n(s),i=(a(113),a(18)),l=a(19),o=a(15),d=a(21),j=a(20),h=a.p+"static/media/logo.cabcfc14.svg",b=a.p+"static/media/search.a65a2553.svg",u=a(175),m=a(173),O=a(156),x=a(172),p=(a(85),a(11)),g=a(22),v=a(154),f=a(155),y=a(174),N=a(179),S=a(13),k=a.n(S),C=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={dataObj:{},showLoadMore:!0},n.getData(),n}return Object(l.a)(a,[{key:"getData",value:function(){var e=this;k.a.get("https://node-pritam.firebaseio.com/ecom/hompage.json").then((function(t){e.setState({dataObj:t.data,showLoadMore:!1})}),(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{children:this.state.showLoadMore?null:Object(n.jsxs)(n.Fragment,{children:[void 0!==this.state.dataObj.banner?Object(n.jsx)(v.a,{style:{width:"100%"},children:Object(n.jsx)(f.a,{style:{margin:"0px"},children:Object(n.jsx)(y.a,{name:"banner",children:this.state.dataObj.banner.map((function(t){return e.showCarousel(t,e.state.dataObj.bannerURL,"220rem",3e3,1)}))})})}):null,void 0!==this.state.dataObj.category?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O.a,{variant:"danger",children:"Category"}),Object(n.jsx)(f.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:this.state.dataObj.category.map((function(t){return null!==t&&t.enable?e.getCategory(t,e.state.dataObj.categoryURL):null}))})]}):null,void 0!==this.state.dataObj.offers?Object(n.jsx)(v.a,{style:{width:"100%"},children:Object(n.jsx)(f.a,{style:{margin:"0px"},children:Object(n.jsx)(y.a,{name:"offers",children:this.state.dataObj.offers.map((function(t){return e.showCarousel(t,e.state.dataObj.offersURL,"80rem",2e3,0)}))})})}):null,void 0!==this.state.dataObj.brand?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O.a,{variant:"danger",children:"Brand"}),Object(n.jsx)(f.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:this.state.dataObj.brand.map((function(t){return null!=t?e.getBrand(t):null}))})]}):null]})})}},{key:"showCarousel",value:function(e,t,a,r,s){return Object(n.jsx)(y.a.Item,{interval:r,indicators:1===s?1:0,controls:s?1:0,children:Object(n.jsx)("img",{width:"100%",height:a,alt:e,src:t+e+"?alt=media"})},e)}},{key:"getCategory",value:function(e,t){return Object(n.jsx)(p.b,{to:"/products?category="+e.name,children:Object(n.jsxs)(N.a,{className:"Card",children:[Object(n.jsx)("img",{height:"220rem",alt:e.name,src:t+e.image+"?alt=media"}),Object(n.jsx)("p",{style:{textAlign:"center",margin:"0px"},children:Object(n.jsx)("b",{children:e.name})})]})},e.name)}},{key:"getBrand",value:function(e){return Object(n.jsx)(p.b,{to:"/products?brand="+e,children:Object(n.jsx)(N.a,{className:"Card",children:Object(n.jsx)("p",{style:{textAlign:"center",margin:"4px"},children:Object(n.jsx)("b",{children:e})})})},e)}}]),a}(r.Component),L=Object(g.g)(C),I=a(176),w=a(157),A=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(I.a.Container,{id:"left-tabs-example",defaultActiveKey:"about",children:Object(n.jsxs)(f.a,{style:{margin:"0px"},children:[Object(n.jsx)(w.a,{sm:3,children:Object(n.jsxs)(m.a,{variant:"pills",className:"flex-column",children:[Object(n.jsx)(m.a.Item,{children:Object(n.jsx)(m.a.Link,{eventKey:"about",children:"About Us"})}),Object(n.jsx)(m.a.Item,{children:Object(n.jsx)(m.a.Link,{eventKey:"social",children:"Social Media"})}),Object(n.jsx)(m.a.Item,{children:Object(n.jsx)(m.a.Link,{eventKey:"shipping",children:"Shipping"})}),Object(n.jsx)(m.a.Item,{children:Object(n.jsx)(m.a.Link,{eventKey:"contact",children:"Contact Us"})})]})}),Object(n.jsx)(w.a,{sm:9,children:Object(n.jsxs)(I.a.Content,{children:[Object(n.jsx)(I.a.Pane,{eventKey:"about",children:Object(n.jsx)("p",{children:"About"})}),Object(n.jsx)(I.a.Pane,{eventKey:"social",children:Object(n.jsxs)("ol",{children:[Object(n.jsx)("li",{children:"Facebook"}),Object(n.jsx)("li",{children:"Twitter"}),Object(n.jsx)("li",{children:"YouTube"})]})}),Object(n.jsx)(I.a.Pane,{eventKey:"shipping",children:Object(n.jsx)("p",{children:"Shipping"})}),Object(n.jsx)(I.a.Pane,{eventKey:"contact",children:Object(n.jsx)("p",{children:"Contact"})})]})})]})})})}}]),a}(r.Component),T=a.p+"static/media/notfound.e4279006.svg",P=(a(96),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"center",children:[Object(n.jsx)("img",{src:T,alt:T,height:"300",className:"center"}),Object(n.jsx)("br",{}),Object(n.jsx)(p.b,{to:"/",className:"btn btn-primary",children:"Go to Home"})]})}}]),a}(r.Component)),F=a(158),E=a(35),D=(a(64),a(101)),_=a.n(D),q=a(84),H="1046212221280-q9flr5ppippq15cicnk55erneppcd4nk.apps.googleusercontent.com",R=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isLogined:!!localStorage.getItem("name"),accessToken:""},n.login=n.login.bind(Object(o.a)(n)),n.handleLoginFailure=n.handleLoginFailure.bind(Object(o.a)(n)),n.logout=n.logout.bind(Object(o.a)(n)),n.handleLogoutFailure=n.handleLogoutFailure.bind(Object(o.a)(n)),n.handleLoginFacebook=n.handleLoginFacebook.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"login",value:function(e){e.accessToken&&(this.setState((function(t){return{isLogined:!0,accessToken:e.accessToken}})),localStorage.clear(),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("email",e.profileObj.email),localStorage.setItem("name",e.profileObj.name),localStorage.setItem("imageUrl",e.profileObj.imageUrl),localStorage.setItem("loginTime",(new Date).toISOString()),this.updateInfo(e.profileObj.email,e.profileObj.name,e))}},{key:"updateInfo",value:function(e,t,a){var n=this;k.a.post("http://localhost:3000/api/auth/social",{email:e,name:t,date:Date.now(),info:a}).then((function(e){localStorage.setItem("token",e.data.user.token),localStorage.setItem("uid",e.data.user.id),n.updateCart(e.data.user.id)}),(function(e){console.log(e),localStorage.clear(),alert("Something went Wrong! Try again...")}))}},{key:"updateCart",value:function(e){var t=this;k.a.post("http://localhost:3000/api/mongoclient/id?collection=cart&id="+e,{}).then((function(e){var a=e.data.data;void 0!==a&&null!==a?localStorage.setItem("cart",JSON.stringify(e.data.data)):localStorage.setItem("cart",[]),t.props.updateLogin(),t.props.history.push("/")}),(function(e){console.log(e),localStorage.setItem("cart",[])}))}},{key:"logout",value:function(e){this.setState((function(e){return{isLogined:!1,accessToken:""}})),localStorage.clear(),E.b.warn("Logout",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.props.updateLogin(),this.props.history.push("/")}},{key:"handleLoginFailure",value:function(e){alert("Google - Failed to log in")}},{key:"handleLogoutFailure",value:function(e){alert("Google - Failed to log out")}},{key:"handleLoginFacebook",value:function(e){e.accessToken?(this.setState({isLogined:!0,accessToken:e.accessToken}),localStorage.clear(),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("facebookId",e.userID),localStorage.setItem("imageUrl",e.picture.data.url),localStorage.setItem("loginTime",(new Date).toISOString()),this.updateInfo(e.email,e.name,e)):alert("Facebook - Failed to log in")}},{key:"getProfile",value:function(){return Object(n.jsx)(F.a,{children:Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"2",children:Object(n.jsx)("img",{src:localStorage.getItem("imageUrl"),alt:"",height:"150",width:"150"})})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"2",children:Object(n.jsx)("h3",{children:localStorage.getItem("name")})})}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Email"}),Object(n.jsx)("td",{children:localStorage.getItem("email")})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Last Login Time"}),Object(n.jsx)("td",{children:localStorage.getItem("loginTime")})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(p.b,{to:"/address",className:"btn btn-primary",children:"My Address"})}),Object(n.jsx)("td",{children:Object(n.jsx)(p.b,{to:"/orders",className:"btn btn-primary",children:"Order History"})})]}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"2"})})]})})}},{key:"render",value:function(){return Object(n.jsx)(v.a,{fluid:!0,className:"center",children:Object(n.jsx)("div",{children:this.state.isLogined?Object(n.jsxs)(n.Fragment,{children:[this.getProfile(),Object(n.jsx)(q.GoogleLogout,{clientId:H,buttonText:"Logout",onLogoutSuccess:this.logout,onFailure:this.handleLogoutFailure}),Object(n.jsx)(E.a,{})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(q.GoogleLogin,{clientId:H,buttonText:"Sign in with Google",onSuccess:this.login,onFailure:this.handleLoginFailure,cookiePolicy:"single_host_origin",responseType:"code,token"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(_.a,{appId:"396350414949326",autoLoad:!1,fields:"name,email,picture",icon:"fa-facebook",callback:this.handleLoginFacebook})]})})})}}]),a}(r.Component),B=Object(g.g)(R),V=a(166),M=a(41),$=a(34),U=a.n($),K=a(178);function J(){var e=Object(M.a)(["\n  query GetPosts {\n    posts {\n      id\n      author\n      body\n    }\n  }\n"]);return J=function(){return e},e}var z=U()(J()),W=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{query:z,children:function(e){var t=e.loading,a=e.data;return t||void 0===a||void 0===a.posts?Object(n.jsx)("p",{children:"Something went wrong!"}):Object(n.jsxs)(F.a,{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Author"}),Object(n.jsx)("th",{children:"Body"})]})}),Object(n.jsx)("tbody",{children:a.posts.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.author}),Object(n.jsx)("td",{children:e.body})]},e.id)}))})]})}}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Environment = ","production"]}),Object(n.jsxs)("p",{children:["API_URL = ","http://localhost:3000"," "]})]})},Y=a(43),G=a.n(Y),Q=a(57),X=a(177),Z=a(159),ee=a(160),te=a(161),ae=a(162),ne=a(163),re=a(164),se=a(165),ce=a(16),ie=new(a(107).a)({uri:"http://localhost:3000/graphql"});function le(){var e=Object(M.a)(["\n  mutation SubmitPost($input: PostInput!) {\n    submitPost(input: $input) {\n      id\n    }\n  }\n"]);return le=function(){return e},e}var oe=U()(le()),de=function(e){var t=e.post,a=e.onClose;return Object(n.jsx)(ce.b,{onSubmit:function(){var e=Object(Q.a)(G.a.mark((function e(t){var n,r,s,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.author,s=t.body,c={id:n,author:r,body:s},e.next=4,ie.mutate({variables:{input:c},mutation:oe,refetchQueries:function(){return[{query:z}]}});case 4:a();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:t,render:function(e){var r=e.handleSubmit,s=e.pristine;e.invalid;return Object(n.jsx)(X.a,{isOpen:!0,toggle:a,children:Object(n.jsxs)(Z.a,{onSubmit:r,children:[Object(n.jsx)(ee.a,{toggle:a,children:t.id?"Edit Post":"New Post"}),Object(n.jsxs)(te.a,{children:[Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Author"}),Object(n.jsx)(ce.a,{required:!0,name:"author",className:"form-control",component:"input"})]}),Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Body"}),Object(n.jsx)(ce.a,{required:!0,name:"body",className:"form-control",component:"input"})]})]}),Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{type:"submit",disabled:s,color:"primary",children:"Save"}),Object(n.jsx)(se.a,{color:"secondary",onClick:a,children:"Cancel"})]})]})})}})},je=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editing:null},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.editing;return Object(n.jsxs)(v.a,{fluid:!0,children:[Object(n.jsx)(V.a,{className:"my-2",color:"primary",onClick:function(){return e.setState({editing:{}})},children:"New Post"}),Object(n.jsx)(W,{canEdit:function(){return!0},onEdit:function(t){return e.setState({editing:t})}}),t&&Object(n.jsx)(de,{post:t,onClose:function(){return e.setState({editing:null})}})]})}}]),a}(r.Component);function he(){var e=Object(M.a)(["\n  {\n    customers {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]);return he=function(){return e},e}var be=U()(he()),ue=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(K.b,{query:be,children:function(e){var t=e.loading,a=e.error,r=e.data;return t?"Loading...":a?"Error! ".concat(a.message):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"panel panel-default",children:[Object(n.jsx)("div",{className:"panel-heading",children:Object(n.jsx)("h4",{children:Object(n.jsx)(p.b,{to:"/customers/edit",className:"btn btn-primary",children:"Add Customer"})})}),Object(n.jsx)("div",{className:"panel-body",children:Object(n.jsxs)("table",{className:"table table-stripe",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Producer"}),Object(n.jsx)("th",{children:"Rating"})]})}),Object(n.jsx)("tbody",{children:r.customers.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(p.b,{to:"/customer/edit".concat("/",e.id),children:e.name})}),Object(n.jsx)("td",{children:e.producer}),Object(n.jsx)("td",{children:e.rating})]},t)}))})]})})]})})}})}}]),a}(r.Component),me=a(167);function Oe(){var e=Object(M.a)(["\n  mutation deleteCustomer($id: ID!) {\n    deleteCustomer(id: $id) {\n      id\n    }\n  }\n"]);return Oe=function(){return e},e}function xe(){var e=Object(M.a)(["\n  mutation addCustomer($name: String!, $producer: String!, $rating: Float!) {\n    addCustomer(name: $name, producer: $producer, rating: $rating) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]);return xe=function(){return e},e}function pe(){var e=Object(M.a)(["\n  mutation updateCustomer(\n    $id: ID!\n    $name: String!\n    $producer: String!\n    $rating: Float!\n  ) {\n    updateCustomer(id: $id, name: $name, producer: $producer, rating: $rating) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]);return pe=function(){return e},e}function ge(){var e=Object(M.a)(["\n  query customer($id: ID!) {\n    customer(id: $id) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]);return ge=function(){return e},e}var ve=U()(ge()),fe=U()(pe()),ye=U()(xe()),Ne=U()(Oe()),Se=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,isEdit:!!e.match.params.id},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)(O.a,{variant:"primary",children:["Customer ",this.state.isEdit?"Edit":"Add"]}),Object(n.jsx)("h4",{children:Object(n.jsx)(p.b,{to:"/customers",className:"btn btn-primary",children:"Customer List"})}),Object(n.jsx)("hr",{}),this.state.isEdit?Object(n.jsx)(K.b,{query:ve,variables:{id:this.state.id},children:function(t){var a=t.loading,r=t.error,s=t.data;return a?e.showLoading():r?"Error! ".concat(r.message):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(K.a,{mutation:fe,onCompleted:function(){return e.props.history.push("/customers")},children:function(t,a){var n=a.loading,r=a.error;return e.showForm(t,n,r,s)}}),Object(n.jsx)(K.a,{mutation:Ne,onCompleted:function(){return e.props.history.push("/customers")},children:function(t,a){var r=a.loading,c=a.error;return Object(n.jsxs)("div",{children:[Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),t({variables:{id:s.customer.id}})},children:Object(n.jsxs)("div",{className:"container panel-body",children:[Object(n.jsx)("p",{}),Object(n.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Delete"})]})}),r&&e.showLoading(),c&&Object(n.jsx)("p",{children:"Error :( Please try again"})]})}},s.customer.id)]})}}):Object(n.jsx)(K.a,{mutation:ye,onCompleted:function(t){e.props.history.push("/customer/edit".concat("/",t.addCustomer.id))},children:function(t,a){var n=a.loading,r=a.error;return e.showForm(t,n,r,null)}})]})}},{key:"showForm",value:function(e,t,a,r){var s,c,i,l=this;return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"panel panel-default",children:[Object(n.jsx)("div",{className:"panel-heading",children:Object(n.jsx)("h3",{className:"panel-title",children:"Edit"})}),Object(n.jsxs)("div",{className:"panel-body",children:[Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),l.state.isEdit?e({variables:{id:l.state.id,name:s.value,producer:c.value,rating:parseInt(i.value)}}):e({variables:{name:s.value,producer:c.value,rating:parseInt(i.value)}})},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"name",ref:function(e){s=e},placeholder:"Name",defaultValue:r?r.customer.name:""})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"producer",children:"Producer:"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"producer",ref:function(e){c=e},placeholder:"Producer",defaultValue:r?r.customer.producer:""})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"rating",children:"Rating:"}),Object(n.jsx)("input",{type:"number",step:"1",className:"form-control",name:"rating",ref:function(e){i=e},placeholder:"Rating",defaultValue:r?r.customer.rating:""})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit"})]}),t&&this.showLoading(),a&&Object(n.jsx)("p",{children:"Error :( Please try again"})]})]})})}},{key:"showLoading",value:function(){return Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)(me.a,{animation:"border",role:"status",variant:"info",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),a}(r.Component),ke=Object(g.g)(Se),Ce=Object(g.g)((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)("img",{src:h,alt:"Search",height:"90"})}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{style:{margin:"12px"},children:Object(n.jsxs)("form",{className:"searchinput",onSubmit:function(t){t.preventDefault(),e.handleClose(),e.history.push("/products?search="+t.target.search.value)},children:[Object(n.jsx)("input",{type:"text",placeholder:"Search ...",name:"search",id:"search"}),Object(n.jsx)("button",{type:"submit",children:Object(n.jsx)("i",{className:"fa fa-search"})})]})}),Object(n.jsx)("br",{})]})})),Le=a(14),Ie=a(46),we=a(55),Ae=Object(r.createContext)(),Te=function(e){var t=e.reducer,a=e.initialState,s=e.children;return Object(n.jsx)(Ae.Provider,{value:Object(r.useReducer)(t,a),children:s})},Pe=function(){return Object(r.useContext)(Ae)},Fe=(a(58),Object(g.g)((function(e){var t=Pe(),a=Object(Le.a)(t,2);Object(we.a)(a[0]);var r=a[1];function s(t){e.history.push("/pid/"+t)}return Object(n.jsx)(w.a,{children:Object(n.jsxs)(N.a,{className:"Card",children:[Object(n.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage,onClick:function(){return s(e.value._id)}}),Object(n.jsx)(O.a,{className:"Overlap",variant:"primary",children:e.value.brand}),0===e.value.rating?null:Object(n.jsx)(O.a,{className:"OverlapRating",variant:"success",children:Number(e.value.rating).toFixed(2)}),Object(n.jsx)(F.a,{style:{margin:0,padding:0},children:Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:Object(n.jsx)("td",{style:{margin:0,padding:0},colSpan:"3",className:"Title",onClick:function(){return s(e.value._id)},children:e.value.product.substring(0,36)})}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:{margin:0,padding:0,border:"none"},className:"Price",onClick:function(){return s(e.value._id)},children:["\u20b9 ",e.value.price]}),Object(n.jsxs)("td",{style:{margin:0,padding:0,border:"none"},className:"PriceCancel",children:["\u20b9 ",e.value.mrp]}),Object(n.jsx)("td",{style:{margin:0,padding:0,border:"none"},children:Object(n.jsx)("img",{src:h,alt:h,height:"30",onClick:function(){return t=e.value,r({type:"ADD_TO_BASKET",item:t}),void E.b.success("\ud83d\uded2 "+t.product,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t}})})]})]})})]})})}))),Ee=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var r=new URLSearchParams(n.props.location.search);return n.state={curPage:1,prevY:0,aList:[],showLoadMore:!0,showNoContent:!1,continueIncrement:!0,search:r.get("search"),brand:r.get("brand"),category:r.get("category"),sort:r.get("sort")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData();this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.location!==e.location){var a=new URLSearchParams(this.props.location.search);this.setState({curPage:1,prevY:0,aList:[],showLoadMore:!0,showNoContent:!1,continueIncrement:!0,search:a.get("search"),brand:a.get("brand"),category:a.get("category"),sort:a.get("sort")},(function(){t.getData()}))}}},{key:"handleObserver",value:function(e,t){var a=e[0].boundingClientRect.y;this.state.continueIncrement&&this.state.prevY>a&&this.getData(),this.setState({prevY:a})}},{key:"getData",value:function(){var e=this,t={};null!==this.state.search&&(t={$or:[{product:{$regex:this.state.search,$options:"i"}},{additionalInfo:{$regex:this.state.search,$options:"i"}},{brand:{$regex:this.state.search,$options:"i"}},{category:{$regex:this.state.search,$options:"i"}}]}),null!==this.state.brand&&null!==this.state.category&&(t.brand=this.state.brand,t.category=this.state.category),null!==this.state.brand&&(t.brand=this.state.brand),null!==this.state.category&&(t.category=this.state.category);var a={};switch(this.state.sort){case"price":a={price:1};break;case"pricedesc":a={price:-1};break;case"rating":a={rating:1};break;case"ratingdesc":a={rating:-1};break;case"name":a={product:1};break;case"namedesc":a={product:-1};break;case"id":a={_id:-1};break;case"iddesc":a={_id:1};break;default:a={rating:-1}}k.a.post("http://localhost:3000/api/mongoclient?collection=productmyntra",{projection:{productId:1,product:1,searchImage:1,brand:1,rating:1,price:1,mrp:1},search:t,sort:a,limit:12,skip:12*(this.state.curPage-1)}).then((function(t){200===t.status?1===e.state.curPage?e.setState({aList:t.data,curPage:e.state.curPage+1,continueIncrement:!(t.data.length<12),showLoadMore:!(t.data.length<12)}):e.setState({aList:[].concat(Object(Ie.a)(e.state.aList),Object(Ie.a)(t.data)),curPage:e.state.curPage+1},(function(){})):204===t.status&&e.setState({showLoadMore:!1,showNoContent:1===e.state.curPage,continueIncrement:!1})}),(function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this,t=[],a=0,r=Object.entries(this.state.aList);a<r.length;a++){var s=Object(Le.a)(r[a],2),c=s[0],i=s[1];t.push(Object(n.jsx)(Fe,{index:c,value:i},c))}return Object(n.jsxs)(n.Fragment,{children:[0===this.state.aList.length?null:Object(n.jsx)(f.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:t}),Object(n.jsxs)("div",{ref:function(t){return e.loadingRef=t},children:[this.state.showLoadMore?this.showLoading():null,this.state.showNoContent?Object(n.jsxs)("div",{className:"center",children:[Object(n.jsx)("img",{src:T,alt:T,height:"300",className:"center"}),Object(n.jsx)("br",{}),Object(n.jsx)(p.b,{to:"/products",className:"btn btn-primary",children:"Explore more with us!"})]}):null]}),Object(n.jsx)(E.a,{})]})}},{key:"showLoading",value:function(){return Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)(me.a,{animation:"border",role:"status",variant:"info",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),a}(r.Component),De=Object(g.g)(Ee),_e=a(40),qe=a(106),He=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var r=new URLSearchParams(n.props.location.search);return n.state={search:r.get("search"),brand:r.get("brand"),category:r.get("category"),sort:r.get("sort"),brandList:JSON.parse(localStorage.getItem("brandList")),categoryList:JSON.parse(localStorage.getItem("categoryList"))},n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleSearchInputThrottled=Object(qe.debounce)(n.handleChange,1500),null==n.state.brandList&&n.getData("brand"),null==n.state.categoryList&&n.getData("category"),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=this;this.setState(Object(_e.a)({},e.target.name,e.target.value),(function(){t.redirectURL()}))}},{key:"redirectURL",value:function(){var e=window.location.pathname+"?";null!==this.state.search&&""!==this.state.search&&(e=e+"search="+this.state.search),null!==this.state.category&&""!==this.state.category&&(e=e+"&category="+this.state.category),null!==this.state.brand&&""!==this.state.brand&&(e=e+"&brand="+this.state.brand),null!==this.state.sort&&""!==this.state.sort&&(e=e+"&sort="+this.state.sort),this.props.history.push(e)}},{key:"getData",value:function(e){var t=this;k.a.post("http://localhost:3000/api/mongoclient/distinct?collection=productmyntra&id="+e,{}).then((function(a){"brand"===e?(localStorage.setItem("brandList",JSON.stringify(a.data)),t.setState({brandList:a.data})):"category"===e&&(localStorage.setItem("categoryList",JSON.stringify(a.data)),t.setState({categoryList:a.data}))}),(function(e){console.log(e)}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",style:{paddingBottom:"8px"},children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{name:"search",className:"col-3",children:[Object(n.jsx)("label",{children:"Search :"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{className:"form-control",name:"search",id:"search",defaultValue:null!==this.state.search?this.state.search:"",onChange:this.handleSearchInputThrottled})]}),Object(n.jsxs)("div",{name:"sort",className:"col-3",children:[Object(n.jsx)("label",{children:"Sort :"}),Object(n.jsxs)("select",{className:"custom-select",name:"sort",id:"sort",value:null!==this.state.sort?this.state.sort:"",onChange:this.handleChange,children:[Object(n.jsx)("option",{value:"",children:"All"}),Object(n.jsx)("option",{value:"price",children:"Price \u2191"}),Object(n.jsx)("option",{value:"pricedesc",children:"Price \u2193"}),Object(n.jsx)("option",{value:"rating",children:"Rating \u2191"}),Object(n.jsx)("option",{value:"ratingdesc",children:"Rating \u2193"}),Object(n.jsx)("option",{value:"name",children:"Name \u2191"}),Object(n.jsx)("option",{value:"namedesc",children:"Name \u2193"})]})]}),null!==this.state.brandList?Object(n.jsxs)("div",{name:"brand",className:"col-3",children:[Object(n.jsx)("label",{children:"Brand :"}),Object(n.jsxs)("select",{className:"custom-select",name:"brand",id:"brand",defaultValue:null!==this.state.brand?this.state.brand:"",onChange:this.handleChange,children:[Object(n.jsx)("option",{value:"",children:"All"},"NA"),this.state.brandList.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}):null,null!==this.state.categoryList?Object(n.jsxs)("div",{name:"category",className:"col-3",children:[Object(n.jsx)("label",{children:"Category :"}),Object(n.jsxs)("select",{className:"custom-select",name:"category",id:"category",defaultValue:this.state.category,onChange:this.handleChange,children:[Object(n.jsx)("option",{value:"",children:"All"},"NA"),this.state.categoryList.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}):null]})})}}]),a}(r.Component),Re=Object(g.g)(He),Be=function(e){var t=Pe(),a=Object(Le.a)(t,2);Object(we.a)(a[0]);var r=a[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(V.a,{className:"btn btn-primary",style:{width:"-webkit-fill-available"},onClick:function(){return t=e.aObj,r({type:"ADD_TO_BASKET",item:t}),void E.b.success("\ud83d\uded2 "+t.product,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t},children:"Add to Cart"}),Object(n.jsx)(E.a,{})]})},Ve=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,aObj:{},isEdit:!!e.match.params.id,isLogined:!!localStorage.getItem("name")},n.getData(e.match.params.id),n}return Object(l.a)(a,[{key:"getData",value:function(e){var t=this;k.a.post("http://localhost:3000/api/mongoclient/id?collection=productmyntra&id="+e,{}).then((function(e){t.setState({aObj:e.data})}),(function(e){console.log(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(O.a,{variant:"primary",children:["Product ",this.state.isEdit?"Deails":"Add"]}),0===Object.keys(this.state.aObj).length?this.showLoading():this.showData(this.state.aObj)]})}},{key:"showLoading",value:function(){return Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)(me.a,{animation:"border",role:"status",variant:"info",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})}},{key:"isMobile",value:function(){var e=/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());return e}},{key:"getTitleHeading",value:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{style:{marginLeft:"16px"},children:e.product}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{style:{marginLeft:"24px"},children:e.additionalInfo})]})}},{key:"showVarient",value:function(e){return Object(n.jsx)(n.Fragment,{children:null!==e&&e.length>1?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Varient"}),Object(n.jsx)("td",{colSpan:"2",children:Object(n.jsxs)("select",{className:"custom-select",name:"varient",id:"varient",defaultValue:"",children:[Object(n.jsx)("option",{value:"",children:"Not Selected"},"NA"),e.map((function(e){return e.available?e.inventory<6?Object(n.jsxs)("option",{value:e.label,children:[e.label," - ",e.inventory," Left"]},e.skuId):Object(n.jsx)("option",{value:e.label,children:e.label},e.skuId):null}))]})})]},"varient"):null})}},{key:"showData",value:function(e){return Object(n.jsx)(n.Fragment,{children:this.isMobile()?Object(n.jsxs)(n.Fragment,{children:[this.getTitleHeading(e),Object(n.jsx)("table",{className:"table table-stripe",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"Price",children:Object(n.jsxs)("b",{children:["Price : ",e.price," \u20b9"]})}),Object(n.jsxs)("td",{className:"PriceCancel",children:["MRP : ",e.mrp," \u20b9"]}),Object(n.jsxs)("td",{children:[e.discount," \u20b9 / ",Object(n.jsx)("b",{children:e.discountDisplayLabel})]})]},"price"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Rating"}),Object(n.jsxs)("td",{children:[Object(n.jsxs)("b",{children:[" ",e.rating]})," / 5 \ud83c\udf1f"]}),Object(n.jsxs)("td",{children:["Total Rating: ",e.ratingCount]})]},"rating"),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"3",children:this.showImages(e.images)})},"images"),this.showVarient(e.inventoryInfo),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"3",children:Object(n.jsx)(Be,{aObj:e})})},"cart"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Brand"}),Object(n.jsx)("td",{colSpan:"2",children:e.brand})]},"brand"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Style"}),Object(n.jsxs)("td",{colSpan:"2",children:[e.gender," - ",e.category]})]},"style"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Color"}),Object(n.jsx)("td",{colSpan:"2",children:e.primaryColour})]},"primaryColour"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Season"}),Object(n.jsx)("td",{colSpan:"2",children:e.season})]},"season")]})})]}):Object(n.jsxs)(n.Fragment,{children:[this.getTitleHeading(e),Object(n.jsx)("hr",{}),Object(n.jsxs)(f.a,{style:{margin:"0px"},children:[Object(n.jsx)(w.a,{children:this.showImages(e.images)}),Object(n.jsx)(w.a,{children:Object(n.jsx)("table",{className:"table table-stripe",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"Price",style:{borderTop:"0px"},children:Object(n.jsxs)("b",{children:["Price : ",e.price," \u20b9"]})}),Object(n.jsxs)("td",{className:"PriceCancel",style:{borderTop:"0px"},children:["MRP : ",e.mrp," \u20b9"]}),Object(n.jsxs)("td",{style:{borderTop:"0px"},children:[e.discount," \u20b9 / ",Object(n.jsx)("b",{children:e.discountDisplayLabel})]})]},"price"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Rating"}),Object(n.jsxs)("td",{children:[Object(n.jsxs)("b",{children:[" ",Number(e.rating).toFixed(2)]})," / 5 \ud83c\udf1f"]}),Object(n.jsxs)("td",{children:["Total Rating: ",e.ratingCount]})]},"rating"),this.showVarient(e.inventoryInfo),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"3",children:Object(n.jsx)(Be,{aObj:e})})},"cart"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Brand"}),Object(n.jsx)("td",{colSpan:"2",children:e.brand})]},"brand"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Style"}),Object(n.jsxs)("td",{colSpan:"2",children:[e.gender," - ",e.category]})]},"style"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Color"}),Object(n.jsx)("td",{colSpan:"2",children:e.primaryColour})]},"primaryColour"),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Season"}),Object(n.jsx)("td",{colSpan:"2",children:e.season})]},"season")]})})})]})]})})}},{key:"showImages",value:function(e){return Object(n.jsx)(v.a,{children:Object(n.jsx)(y.a,{children:e.map((function(t,a){return null!=t.src&&t.src.length>0?Object(n.jsxs)(y.a.Item,{interval:2e3,children:[Object(n.jsx)("img",{height:"450rem",className:"d-block w-100",alt:t.view,src:t.src}),Object(n.jsx)(y.a.Caption,{children:Object(n.jsxs)("p",{children:[a+1," / ",e.length]})})]},a):null}))})})}}]),a}(r.Component),Me=Object(g.g)(Ve),$e=a(37),Ue={basket:void 0!==localStorage.getItem("cart")&&null!==localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],user:null},Ke=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price*t.qty+e}),0)},Je=function(e,t){switch(t.type){case"GET_BASKET":return Object($e.a)(Object($e.a)({},e),{},{basket:Object(Ie.a)(e.basket)});case"ADD_TO_BASKET":var a=e.basket.findIndex((function(e){return e._id===t.item._id})),n=[];if(a>=0){var r=(n=Object(Ie.a)(e.basket))[a];r.qty<10?r.qty=r.qty+1:r.qty=10,n[a]=r}else{var s=t.item;s.qty=1,n=[].concat(Object(Ie.a)(e.basket),[s])}return localStorage.setItem("cart",JSON.stringify(n)),d(n),Object($e.a)(Object($e.a)({},e),{},{basket:n});case"UPDATE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e._id===t.item._id})),i=Object(Ie.a)(e.basket);return i[c]=t.item,localStorage.setItem("cart",JSON.stringify(i)),d(i),Object($e.a)(Object($e.a)({},e),{},{basket:i});case"EMPTY_BASKET":return localStorage.setItem("cart",JSON.stringify([])),d([]),Object($e.a)(Object($e.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var l=e.basket.findIndex((function(e){return e._id===t._id})),o=Object(Ie.a)(e.basket);return l>=0?o.splice(l,1):console.warn("Cant remove product (id: ".concat(t._id,") as its not in basket!")),localStorage.setItem("cart",JSON.stringify(o)),d(o),Object($e.a)(Object($e.a)({},e),{},{basket:o});case"SET_USER":return Object($e.a)(Object($e.a)({},e),{},{user:t.user});default:return e}function d(e){if(localStorage.getItem("uid")){k.a.put("http://localhost:3000/api/mongoclient/updateone?collection=cart&id="+localStorage.getItem("uid"),{data:e}).then((function(e){}),(function(e){}))}}},ze=Object(g.g)((function(e,t){var a=Pe(),s=Object(Le.a)(a,2);Object(we.a)(s[0]);var c=s[1],i=Object(r.useState)(e.value.qty),l=Object(Le.a)(i,2),o=l[0],d=l[1],j=Object(r.useState)(e.value.price*e.value.qty),h=Object(Le.a)(j,2),b=h[0],u=h[1];return Object(n.jsx)(N.a,{className:"Card",children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(w.a,{className:"col-xs-6 col-sm-6 col-md-3 col-lg-3 col-xl-3",children:Object(n.jsx)(p.b,{to:"/pid".concat("/",e.value._id),children:Object(n.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage})})}),Object(n.jsxs)(w.a,{children:[Object(n.jsx)(p.b,{to:"/pid".concat("/",e.value._id),style:{color:"rgba(0,0,0,.5)"},children:Object(n.jsx)("h5",{children:e.value.product})}),Object(n.jsx)("p",{style:{marginBottom:"4px"},children:e.value.brand}),Object(n.jsxs)("p",{style:{marginBottom:"4px"},children:["Rating : ",Object(n.jsxs)("b",{children:[" ",e.value.rating]})," / 5 \ud83c\udf1f"]}),Object(n.jsxs)("p",{className:"PriceCancel",children:["MRP : \u20b9 ",e.value.mrp]}),Object(n.jsxs)("p",{style:{fontWeight:"bold",padding:"0px"},className:"Price",children:["Price : \u20b9 ",e.value.price]}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(w.a,{children:Object(n.jsx)(V.a,{className:"btn-danger",onClick:function(){c({type:"REMOVE_FROM_BASKET",_id:e.value._id})},style:{padding:"2px",margin:"0px"},children:"Remove"})}),Object(n.jsxs)(w.a,{children:["Qty :"," ",t?Object(n.jsx)("select",{name:"qty",id:"qty",onChange:function(t){u(e.value.price*t.target.value),d(t.target.value);var a=e.value;a.qty=Number(t.target.value),c({type:"UPDATE_FROM_BASKET",item:a})},value:o,children:Array.apply(1,Array(10)).map((function(e,t){return Object(n.jsx)("option",{value:t+1,children:t+1},t+1)}))}):Object(n.jsx)("b",{children:o})]}),Object(n.jsx)(w.a,{children:Object(n.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",textAlign:"end",marginRight:"8px"},className:"Price",children:["\u20b9 ",b]})})]})]})]})})})),We=function(){return Object(n.jsxs)("div",{className:"center",children:[Object(n.jsx)("h3",{children:"Your cart is Empty!"}),Object(n.jsx)("img",{src:h,alt:h,height:"200",className:"center"}),Object(n.jsx)("br",{}),Object(n.jsx)(p.b,{to:"/",className:"btn btn-primary",children:"Continue Shopping"})]})},Ye=Object(g.g)((function(e){var t=Pe(),a=Object(Le.a)(t,1)[0].basket,s=Object(r.useState)([]),c=Object(Le.a)(s,2),i=(c[0],c[1]);return Object(r.useEffect)((function(){if(localStorage.getItem("uid")){k.a.post("http://localhost:3000/api/mongoclient/id?collection=cart&id="+localStorage.getItem("uid"),{}).then((function(e){localStorage.setItem("cart",JSON.stringify(e.data.data)),i(e.data.data)}),(function(e){console.log(e),i([])}))}}),[]),Object(n.jsx)(n.Fragment,{children:null===a||void 0===a||0===a.length?Object(n.jsx)(We,{}):Object(n.jsxs)(n.Fragment,{children:[null===a||void 0===a?void 0:a.map((function(e){return Object(n.jsx)(ze,{value:e},e._id)})),Object(n.jsx)(N.a,{className:"Card",style:{padding:"10px"},children:Object(n.jsxs)(f.a,{style:{margin:"0px"},children:[Object(n.jsx)(w.a,{children:Object(n.jsxs)("h5",{style:{textAlign:"center"},children:[a.length," Items"]})}),Object(n.jsx)(w.a,{children:Object(n.jsxs)("h5",{style:{textAlign:"center"},children:[Ke(a)," \u20b9"," "]})}),Object(n.jsx)(w.a,{children:Object(n.jsx)(p.b,{to:"/confirm",className:"btn btn-primary",style:{width:"100%"},children:"Buy Now"})})]})})]})})})),Ge=a.p+"static/media/cartcount.c5fc1bff.svg",Qe=function(e){var t=Pe(),a=Object(Le.a)(t,1)[0].basket;return Object(n.jsxs)(f.a,{style:{margin:"0px"},children:[Object(n.jsx)("img",{src:Ge,alt:"Cart",height:"35"}),Object(n.jsx)("p",{className:"CartText",style:{margin:"0px",padding:"0px",paddingTop:"3px"},children:a.length})]})},Xe=a(168),Ze=a(169),et=a.p+"static/media/addaddress.641a1b89.svg",tt=function(){return Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)(Ze.a,{animation:"border",role:"status",variant:"primary"})})},at=function(e,t){e.history.push("/address/"+t)},nt=function(e){return Object(n.jsx)(Xe.a,{className:"Card",onClick:function(){return at(e,"new")},children:Object(n.jsxs)("h5",{children:[Object(n.jsx)("img",{src:et,alt:"Cart",height:"50",width:"50",style:{margin:20}}),Object(n.jsx)("br",{}),"Add Address"]})},"empty")},rt=Object(g.g)((function(e){var t=Object(r.useState)([]),a=Object(Le.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)(!1),l=Object(Le.a)(i,2),o=l[0],d=l[1];return Object(r.useEffect)((function(){if(localStorage.getItem("uid")){d(!0),k.a.post("http://localhost:3000/api/mongoclient?collection=address",{search:{uid:localStorage.getItem("uid")}}).then((function(e){d(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&c(e.data)}),(function(e){d(!1),c([])}))}else e.history.push("/login")}),[]),Object(n.jsx)("div",{children:o?tt():Object(n.jsxs)("div",{className:"text-center py-3",children:[nt(e),null===s||void 0===s?void 0:s.map((function(t,a){return Object(n.jsxs)(Xe.a,{className:"CardAddress",onClick:function(){return at(e,t.addrid)},children:[Object(n.jsx)("h5",{className:"AddrLineText",children:t.firstName+" "+t.lastName}),Object(n.jsxs)("p",{className:"AddrLineText",children:[Object(n.jsx)("b",{children:"Mobile No : "}),t.mobileno]}),Object(n.jsx)("p",{className:"AddrLineText",children:void 0!==t.atype?t.atype:null}),Object(n.jsx)("p",{className:"AddrLineText",children:t.address}),Object(n.jsx)("p",{className:"AddrLineText",children:void 0!==t.landmark?t.landmark:null}),Object(n.jsx)("p",{className:"AddrLineText",children:t.area}),Object(n.jsx)("p",{className:"AddrLineText",children:t.city+" - "+t.pincode}),Object(n.jsx)("p",{className:"AddrLineText",children:t.state+", "+t.country})]},a)}))]})})})),st=a(170),ct=a(171),it=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).composeValidators=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}},n.state={addressID:e.match.params.id,isLoading:"new"!==e.match.params.id,address:[]},n.getData(n.state.addressID),n}return Object(l.a)(a,[{key:"getData",value:function(e){var t=this;if("new"===e);else if(void 0===e)this.props.history.push("/address");else if(localStorage.getItem("uid")){k.a.post("http://localhost:3000/api/mongoclient?collection=address",{search:{uid:localStorage.getItem("uid"),addrid:this.state.addressID}}).then((function(e){t.setState({isLoading:!1,address:e.data},(function(){1===this.state.address.length&&this.state.address[0].addrid===this.state.addressID||this.props.history.push("/address")}))}),(function(e){console.log(e),t.setState({isLoading:!1,address:[]}),alert("Something went Wrong! Try again...")}))}else this.props.history.push("/login")}},{key:"onFormSubmit",value:function(e){var t=this;e.date=(new Date).toISOString(),e.uid=localStorage.getItem("uid");e.addrid=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,9);var a="http://localhost:3000/api/";this.setState({isLoading:!0});var n="new"===this.state.addressID?a+"mongoclient/insert?collection=address":a+"mongoclient/updateone?collection=address&id="+this.state.address[0]._id;k.a.put(n,e).then((function(e){t.props.history.push("/address")}),(function(e){t.setState({isLoading:!1},(function(){console.log(e),alert("Something went Wrong! Try again...")}))}))}},{key:"deleteData",value:function(){var e=this;this.setState({isLoading:!0}),k.a.delete("http://localhost:3000/api/mongoclient/delete?collection=address&id="+this.state.address[0]._id,{}).then((function(t){e.props.history.push("/address")}),(function(t){e.setState({isLoading:!1},(function(){console.log(t),alert("Something went Wrong! Try again...")}))}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(st.a,{variant:"primary",style:{background:"#007bff"},children:void 0!==this.state.addressID&&"new"===this.state.addressID?"Add new address":"Edit address"}),this.state.isLoading?this.showLoading():this.showData()]})}},{key:"showLoading",value:function(){return Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)(Ze.a,{animation:"border",role:"status",variant:"primary"})})}},{key:"isMobile",value:function(){var e=/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());return e}},{key:"openLink",value:function(){this.props.history.push("/address")}},{key:"showData",value:function(){var e=this;return Object(n.jsx)(ct.a,{children:Object(n.jsx)(ce.b,{onSubmit:function(t){return e.onFormSubmit(t)},render:function(t){var a=t.handleSubmit,r=t.form,s=t.submitting,c=t.pristine;t.values;return Object(n.jsxs)("form",{onSubmit:a,children:[Object(n.jsx)(ce.a,{name:"atype",validate:e.composeValidators(e.required),children:function(t){t.input;var a,r=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Address Type"}),Object(n.jsxs)(ce.a,(a={type:"select",defaultValue:"Home",name:"atype",component:"select",className:"form-control"},Object(_e.a)(a,"defaultValue",1===e.state.address.length?e.state.address[0].atype:"Home"),Object(_e.a)(a,"children",[Object(n.jsx)("option",{value:"Home",children:"Home"}),Object(n.jsx)("option",{value:"Office",children:"Office"}),Object(n.jsx)("option",{value:"Billing",children:"Billing"}),Object(n.jsx)("option",{value:"Other",children:"Other"})]),a)),r.error&&r.touched&&Object(n.jsx)("span",{children:r.error})]})}}),Object(n.jsx)(ce.a,{name:"firstName",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"First Name"}),Object(n.jsx)(ce.a,{required:!0,type:"text",name:"firstName",className:"form-control",component:"input",placeholder:"Enter First Name",defaultValue:1===e.state.address.length?e.state.address[0].firstName:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"lastName",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Last Name"}),Object(n.jsx)(ce.a,{required:!0,type:"text",name:"lastName",className:"form-control",component:"input",placeholder:"Enter Last Name",defaultValue:1===e.state.address.length?e.state.address[0].lastName:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"mobileno",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Mobile number"}),Object(n.jsx)(ce.a,{required:!0,minLength:"10",maxLength:"10",min:"999999999",max:"9999999999",type:e.isMobile?"number":"text",name:"mobileno",className:"form-control",component:"input",placeholder:"Enter Mobile number",defaultValue:1===e.state.address.length?e.state.address[0].mobileno:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"address",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Flat, House no., Building, Company, Apartment"}),Object(n.jsx)(ce.a,{required:!0,type:"text",name:"address",className:"form-control",component:"input",placeholder:"Enter Address",defaultValue:1===e.state.address.length?e.state.address[0].address:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"area",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Area, Colony, Street, Sector, Village"}),Object(n.jsx)(ce.a,{required:!0,type:"text",name:"area",className:"form-control",component:"input",placeholder:"Enter Area",defaultValue:1===e.state.address.length?e.state.address[0].area:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"landmark",children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Landmark"}),Object(n.jsx)(ce.a,{type:"text",name:"landmark",className:"form-control",component:"input",placeholder:"E.g. Near Flyover, Behind Cinema, etc.",defaultValue:1===e.state.address.length?e.state.address[0].landmark:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"country",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Country"}),Object(n.jsx)(ce.a,{required:!0,type:"text",name:"country",className:"form-control",component:"input",placeholder:"Enter country",defaultValue:1===e.state.address.length?e.state.address[0].country:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"pincode",validate:e.composeValidators(e.required,e.mustBeNumber),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Pincode"}),Object(n.jsx)(ce.a,{required:!0,minLength:"6",maxLength:"6",min:"99999",max:"999999",type:e.isMobile?"number":"text",name:"pincode",className:"form-control",component:"input",placeholder:"Enter Pincode",defaultValue:1===e.state.address.length?e.state.address[0].pincode:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"state",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"Sate"}),Object(n.jsx)(ce.a,{required:!0,type:"text",name:"state",className:"form-control",component:"input",placeholder:"Enter state",defaultValue:1===e.state.address.length?e.state.address[0].state:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsx)(ce.a,{name:"city",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(ne.a,{children:"City"}),Object(n.jsx)(ce.a,{required:!0,type:"text",name:"city",className:"form-control",component:"input",placeholder:"Enter city",defaultValue:1===e.state.address.length?e.state.address[0].city:""}),a.error&&a.touched&&Object(n.jsx)("span",{children:a.error})]})}}),Object(n.jsxs)("div",{className:"buttons",children:["new"===e.state.addressID?null:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(se.a,{color:"danger",type:"button",onClick:function(){return e.deleteData()},children:"Delete"}),"\xa0\xa0\xa0"]}),Object(n.jsx)(se.a,{color:"warning",type:"button",onClick:function(){return e.openLink()},children:"Cancel"}),Object(n.jsx)(n.Fragment,{children:"\xa0\xa0\xa0"}),Object(n.jsx)(se.a,{type:"button",color:"primary",onClick:r.reset,disabled:s||c,children:"Reset"}),Object(n.jsx)(n.Fragment,{children:"\xa0\xa0\xa0"}),Object(n.jsx)(se.a,{type:"submit",color:"success",disabled:s,children:"Submit"})]}),Object(n.jsx)("br",{})]})}})})}},{key:"required",value:function(e){return e?void 0:""}},{key:"mustBeNumber",value:function(e){return isNaN(e)?"Must be a number":void 0}}]),a}(r.Component),lt=Object(g.g)(it),ot=Object(g.g)((function(e){var t=Object(r.useState)(e.value.price*e.value.qty),a=Object(Le.a)(t,1)[0];return Object(n.jsx)(N.a,{className:"Card",children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(w.a,{className:"col-xs-6 col-sm-6 col-md-3 col-lg-3 col-xl-3",children:Object(n.jsx)(p.b,{to:"/pid".concat("/",e.value._id),children:Object(n.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage})})}),Object(n.jsxs)(w.a,{children:[Object(n.jsx)(p.b,{to:"/pid".concat("/",e.value._id),style:{color:"rgba(0,0,0,.5)"},children:Object(n.jsx)("h5",{children:e.value.product})}),Object(n.jsx)("p",{style:{marginBottom:"4px"},children:e.value.brand}),Object(n.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",marginBottom:"4px"},className:"itemPrice",children:["\u20b9 ",e.value.price]}),Object(n.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",marginBottom:"4px"},className:"qty",children:["Qty : ",e.value.qty]}),Object(n.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",textAlign:"end",marginRight:"8px"},className:"Price",children:["Price : \u20b9 ",a]})]})]})})})),dt=function(){return Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)(Ze.a,{animation:"border",role:"status",variant:"primary"})})},jt=function(e){var t="http://localhost:3000/api/";k.a.post(t+"sendPDF",{html:e}).then((function(e){window.open(t+"sendPDF/file?file="+e.data.filename,"_blank").focus()}),(function(e){console.log(e),alert("Something went Wrong! Try again...")}))},ht=Object(g.g)((function(e){var t=Object(r.useState)([]),a=Object(Le.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)(!1),l=Object(Le.a)(i,2),o=l[0],d=l[1];return Object(r.useEffect)((function(){if(localStorage.getItem("uid")){d(!0),k.a.post("http://localhost:3000/api/mongoclient?collection=orders",{search:{uid:localStorage.getItem("uid")}}).then((function(e){d(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&c(e.data)}),(function(e){d(!1),c([])}))}else e.history.push("/login")}),[]),Object(n.jsx)("div",{children:o?dt():Object(n.jsxs)("div",{className:"text-center py-3",children:[null===s||void 0===s?void 0:s.map((function(e,t){var a;return Object(n.jsxs)(Xe.a,{className:"CardAddress",id:e.orderCreationId,children:[Object(n.jsx)("h5",{className:"AddrLineText",children:e.orderCreationId.toUpperCase()}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"AddrLineText",children:[Object(n.jsx)("b",{children:"Date : "}),e.serverdate]}),Object(n.jsxs)("p",{className:"AddrLineText",children:[Object(n.jsx)("b",{children:"Amount : "}),e.amount.slice(0,-2)+".00 "+e.currency]}),Object(n.jsxs)(Xe.a,{className:"CardAddress",children:[Object(n.jsx)("h5",{className:"AddrLineText",children:"Order Product"}),Object(n.jsx)("hr",{}),null===(a=e.product)||void 0===a?void 0:a.map((function(e){return Object(n.jsx)(ot,{value:e},e._id)}))]}),Object(n.jsxs)(Xe.a,{className:"CardAddress",children:[Object(n.jsx)("h5",{className:"AddrLineText",children:"Delivery Address"}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"AddrLineText",children:Object(n.jsx)("b",{children:e.address.firstName+" "+e.address.lastName})}),Object(n.jsxs)("p",{className:"AddrLineText",children:["Mobile No :",e.address.mobileno]}),Object(n.jsx)("p",{className:"AddrLineText",children:void 0!==e.address.atype?e.address.atype:null}),Object(n.jsx)("p",{className:"AddrLineText",children:e.address.address}),Object(n.jsx)("p",{className:"AddrLineText",children:void 0!==e.address.landmark?e.address.landmark:null}),Object(n.jsx)("p",{className:"AddrLineText",children:e.address.area}),Object(n.jsx)("p",{className:"AddrLineText",children:e.address.city+" - "+e.address.pincode}),Object(n.jsx)("p",{className:"AddrLineText",children:e.address.state+", "+e.address.country})]}),Object(n.jsx)(se.a,{color:"danger",type:"button",onClick:function(){return jt(document.querySelector("#"+e.orderCreationId).innerHTML)},children:"PDF"})]},t)})),0===s.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Xe.a,{className:"Card",children:[Object(n.jsx)("br",{}),Object(n.jsx)("h5",{children:"We are looking forward to receive your order."}),Object(n.jsx)("br",{})]},"empty"),Object(n.jsx)(We,{})]}):null]})})})),bt=function(){return Object(n.jsx)("div",{className:"text-center py-3",children:Object(n.jsx)(me.a,{animation:"border",role:"status",variant:"primary"})})},ut=Object(g.g)((function(e){var t=Pe(),a=Object(Le.a)(t,2),s=a[0].basket,c=a[1],i=Object(r.useState)([]),l=Object(Le.a)(i,2),o=l[0],d=l[1],j=Object(r.useState)([]),b=Object(Le.a)(j,2),u=b[0],m=b[1],x=Object(r.useState)(""),p=Object(Le.a)(x,2),g=p[0],v=p[1],y=Object(r.useState)(!1),S=Object(Le.a)(y,2),C=S[0],L=S[1];function I(e){return new Promise((function(t){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){t(!1)},document.body.appendChild(a)}))}function A(){return(A=Object(Q.a)(G.a.mark((function t(){var a,n,r,i,l,j,b,m,O,x,p;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.find((function(e){return e.addrid===g})),n="http://localhost:3000/api/razorpay/",t.next=4,I("https://checkout.razorpay.com/v1/checkout.js");case 4:if(t.sent){t.next=8;break}return alert("Razorpay SDK failed to load. Are you online?"),t.abrupt("return");case 8:return t.next=10,k.a.post(n+"payment/orders",{amount:Ke(s)});case 10:if(r=t.sent){t.next=14;break}return alert("Server error. Are you online?"),t.abrupt("return");case 14:i=r.data.order,l=i.amount,j=i.id,b=i.currency,m=i.receipt,O=r.data.razorpayPaymentKey,x=r.data.serverdate,p={key:O,amount:l.toString(),currency:b,name:"Pritam Ecom",description:"Pay-"+x,image:{logo:h},order_id:j,handler:function(){var t=Object(Q.a)(G.a.mark((function t(r){var s,i;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={orderCreationId:j,razorpayPaymentId:r.razorpay_payment_id,razorpayOrderId:r.razorpay_order_id,razorpaySignature:r.razorpay_signature,receipt:m,amount:l.toString(),currency:b,serverdate:x,userdate:(new Date).toISOString(),uid:localStorage.getItem("uid"),name:a.firstName+" "+a.lastName,email:localStorage.getItem("email"),contact:a.mobileno,address:a,product:o},t.next=3,k.a.post(n+"payment/success",s);case 3:"success"===(i=t.sent).data.msg?(d([]),c({type:"EMPTY_BASKET"}),Object(E.b)("\ud83d\ude80 Your order "+i.data.orderId+" is successful put with us!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.history.push("/orders"),alert("\ud83d\ude80 Your order "+i.data.orderId+" is successful put with us!")):alert(i.data.msg);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),prefill:{name:a.firstName+" "+a.lastName,email:localStorage.getItem("email"),contact:a.mobileno},notes:{order_id:j,receipt:m,uid:localStorage.getItem("uid")},theme:{color:"#61dafb"}},new window.Razorpay(p).open();case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(Q.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t.addrid,(function(){P()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return Object(n.jsxs)("div",{children:[0!==u.length?Object(n.jsx)(O.a,{variant:"success",children:"Select a delivery address"}):null,null===u||void 0===u?void 0:u.map((function(e,t){return Object(n.jsxs)(N.a,{className:"CardAddress",style:{background:g===e.addrid?"#8bf1de":"none"},onClick:function(){return function(e){return T.apply(this,arguments)}(e)},children:[Object(n.jsx)("h5",{className:"AddrLineText",children:e.firstName+" "+e.lastName}),Object(n.jsxs)("p",{className:"AddrLineText",children:[Object(n.jsx)("b",{children:"Mobile No : "}),e.mobileno]}),Object(n.jsx)("p",{className:"AddrLineText",children:void 0!==e.atype?e.atype:null}),Object(n.jsx)("p",{className:"AddrLineText",children:e.address}),Object(n.jsx)("p",{className:"AddrLineText",children:void 0!==e.landmark?e.landmark:null}),Object(n.jsx)("p",{className:"AddrLineText",children:e.area}),Object(n.jsx)("p",{className:"AddrLineText",children:e.city+" - "+e.pincode}),Object(n.jsx)("p",{className:"AddrLineText",children:e.state+", "+e.country})]},t)}))]})}return Object(r.useEffect)((function(){if(localStorage.getItem("uid")){var t="http://localhost:3000/api/";k.a.post(t+"mongoclient/id?collection=cart&id="+localStorage.getItem("uid"),{}).then((function(e){localStorage.setItem("cart",JSON.stringify(e.data.data)),d(e.data.data)}),(function(e){console.log(e),d([])})),L(!0),k.a.post(t+"mongoclient?collection=address",{search:{uid:localStorage.getItem("uid")}}).then((function(e){L(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&m(e.data)}),(function(e){L(!1),m([])}))}else e.history.push("/login")}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(O.a,{variant:"primary",children:"Order Review"}),C?bt():Object(n.jsx)(n.Fragment,{children:null===s||void 0===s||0===s.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(N.a,{className:"Card",children:[Object(n.jsx)("br",{}),Object(n.jsx)("h5",{style:{textAlign:"center"},children:"We are looking forward to receive your order."}),Object(n.jsx)("br",{})]},"empty"),Object(n.jsx)(We,{})]}):Object(n.jsxs)(n.Fragment,{children:[null===s||void 0===s?void 0:s.map((function(e){return Object(n.jsx)(ot,{value:e},e._id)})),P(),Object(n.jsx)(N.a,{className:"Card",style:{padding:"10px"},children:Object(n.jsxs)(f.a,{style:{margin:"0px"},children:[Object(n.jsx)(w.a,{children:Object(n.jsxs)("h5",{style:{textAlign:"center"},children:[s.length," Items"]})}),Object(n.jsx)(w.a,{children:Object(n.jsxs)("h5",{style:{textAlign:"center"},children:[Ke(s)," \u20b9"," "]})}),Object(n.jsx)(w.a,{children:0===u.length?Object(n.jsx)(V.a,{style:{width:"100%",background:"#dc3545",border:"#dc3545"},onClick:function(){return e.history.push("/address")},children:"Add Delivery Address"}):void 0!==g&&g.length>2?Object(n.jsx)(V.a,{style:{width:"100%"},onClick:function(){return A.apply(this,arguments)},children:"Pay with RAZORPAY"}):Object(n.jsx)(V.a,{style:{width:"100%",background:"#28a745",border:"#28a745"},children:"Select a delivery address"})})]})})]})}),Object(n.jsx)(E.a,{})]})})),mt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={navExpanded:!1,minHight:window.innerHeight-160+"px",minHightFilter:window.innerHeight-260+"px",isLogin:!!localStorage.getItem("name"),name:localStorage.getItem("name"),imageUrl:localStorage.getItem("imageUrl"),show:!1},n.updateLogin=function(){n.setState({isLogin:!!localStorage.getItem("name"),name:localStorage.getItem("name"),imageUrl:localStorage.getItem("imageUrl")})},n.setNavExpanded=function(e){n.setState({navExpanded:e})},n.setNavClose=function(){n.setState({navExpanded:!1})},n.updateLogin=n.updateLogin.bind(Object(o.a)(n)),n.handleClose=n.handleClose.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleClose",value:function(){this.setState((function(e){return{show:!e.show}}))}},{key:"render",value:function(){return Object(n.jsxs)(p.a,{children:[Object(n.jsx)(u.a,{bg:"light",variant:"light",expand:"lg",style:{position:"sticky",top:0,zIndex:1},onToggle:this.setNavExpanded,expanded:this.state.navExpanded,children:Object(n.jsxs)("span",{style:{margin:"0px",width:"100%",display:"contents"},children:[Object(n.jsx)(u.a.Brand,{children:Object(n.jsxs)(p.b,{to:"/",onClick:this.setNavClose,className:"navbar-brand",children:[Object(n.jsx)("img",{src:h,alt:h,height:"30"})," Pritam Ecom"]})}),Object(n.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(n.jsxs)(m.a,{className:"mr-auto",onClick:this.setNavClose,children:[Object(n.jsx)(p.b,{to:"/",className:"nav-link",children:"Home"}),Object(n.jsx)(p.b,{to:"/products",className:"nav-link",children:"Products"}),Object(n.jsx)(p.b,{to:"/orders",className:"nav-link",children:"Orders"}),Object(n.jsx)(p.b,{to:"/about",className:"nav-link",children:"About"})]}),Object(n.jsx)("div",{onClick:this.handleClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:Object(n.jsx)("img",{src:b,alt:"Search",height:"35"})}),Object(n.jsx)(p.b,{to:"/cart",onClick:this.setNavClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:Object(n.jsx)(Qe,{})}),this.state.isLogin?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(p.b,{to:"/profile",onClick:this.setNavClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:[Object(n.jsx)("img",{src:this.state.imageUrl,alt:"",height:"30"})," "+this.state.name]})}):Object(n.jsx)(p.b,{to:"/login",onClick:this.setNavClose,className:"nav-link",style:{float:"end"},children:Object(n.jsxs)("i",{className:"fa fa-sign-in","aria-hidden":"true",children:[" ","Login"]})})]})]})}),Object(n.jsx)("div",{children:Object(n.jsxs)(g.d,{children:[Object(n.jsx)(g.b,{exact:!0,path:"/",children:Object(n.jsxs)("div",{style:{minHeight:this.state.minHight},children:[Object(n.jsx)(L,{}),Object(n.jsx)(O.a,{variant:"primary",children:"Products"}),Object(n.jsx)(De,{})]})}),Object(n.jsxs)(g.b,{path:"/products",children:[Object(n.jsxs)("div",{style:{background:"#e5faf4"},children:[Object(n.jsx)(O.a,{variant:"success",children:"Products Filters"}),Object(n.jsx)(Re,{})]}),Object(n.jsx)(O.a,{variant:"primary",children:"Products"}),Object(n.jsx)("div",{style:{minHeight:this.state.minHightFilter},children:Object(n.jsx)(De,{})})]}),Object(n.jsx)(g.b,{exact:!0,path:"/pid/:id",children:Object(n.jsx)(Me,{})}),Object(n.jsx)(g.b,{exact:!0,path:["/login","/profile"],children:Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(B,{updateLogin:this.updateLogin})})}),Object(n.jsxs)(g.b,{exact:!0,path:"/post",children:[Object(n.jsx)(O.a,{variant:"primary",children:"Posts"}),Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(je,{})})]}),Object(n.jsxs)(g.b,{path:"/about",children:[Object(n.jsx)(O.a,{variant:"primary",children:"About"}),Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(A,{})})]}),Object(n.jsxs)(g.b,{exact:!0,path:"/cart",children:[Object(n.jsx)(O.a,{variant:"primary",children:"Cart"}),Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(Ye,{})})]}),Object(n.jsxs)(g.b,{exact:!0,path:"/address",children:[Object(n.jsx)(O.a,{variant:"primary",children:"Address"}),Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(rt,{})})]}),Object(n.jsx)(g.b,{exact:!0,path:"/address/:id",children:Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(lt,{})})}),Object(n.jsxs)(g.b,{path:"/orders",children:[Object(n.jsx)(O.a,{variant:"primary",children:"Order History"}),Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(ht,{})})]}),Object(n.jsx)(g.b,{path:"/confirm",children:Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(ut,{})})}),Object(n.jsxs)(g.b,{exact:!0,path:"/customers",children:[Object(n.jsx)(O.a,{variant:"primary",children:"List of Customers"}),Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(ue,{})})]}),Object(n.jsx)(g.b,{path:["/customer/edit/:id","/customers/edit"],children:Object(n.jsx)(ke,{})}),Object(n.jsx)(g.b,{path:"/notfound",children:Object(n.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(n.jsx)(P,{})})}),Object(n.jsx)(g.a,{to:"/notfound"})]})}),this.showSearch(),Object(n.jsx)("footer",{className:"border-top footer",bg:"light",variant:"light",children:Object(n.jsx)("div",{className:"footer-copyright text-center py-3",children:Object(n.jsxs)("p",{style:{margin:0},children:["\xa9 2020-21 :"," ",Object(n.jsx)(p.b,{to:"/",className:"nav-link",style:{display:"contents",padding:0},children:"Pritam Ecom"})]})})})]})}},{key:"showSearch",value:function(){return Object(n.jsx)(x.a,{show:this.state.show,onHide:this.handleClose,style:{maxWidth:"100%"},children:Object(n.jsxs)("div",{style:{width:"100%",marginTop:"12px",paddingRight:"12px"},children:[Object(n.jsx)("button",{onClick:this.handleClose,className:"CloseBtn",children:"X"}),Object(n.jsx)("br",{}),Object(n.jsx)(Ce,{handleClose:this.handleClose})]})})}}]),a}(r.Component),Ot=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,180)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},xt=a(23);a(148);c.a.render(Object(n.jsx)(xt.a,{client:ie,children:Object(n.jsx)(Te,{initialState:Ue,reducer:Je,children:Object(n.jsx)(mt,{})})}),document.getElementById("root")),Ot()},58:function(e,t,a){},85:function(e,t,a){},96:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.0a7ad868.chunk.js.map