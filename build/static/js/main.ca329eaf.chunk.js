(this.webpackJsonpecom=this.webpackJsonpecom||[]).push([[0],{115:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n,r,c,s,i,o,l,d=a(1),j=a(33),h=a.n(j),b=(a(115),a(44)),u=a(17),m=a(18),O=a(38),p=a(20),x=a(19),g=a.p+"static/media/logo.cabcfc14.svg",v=a.p+"static/media/search.a65a2553.svg",y=a(180),f=a(178),S=a(161),N=a(177),k=(a(89),a(11)),C=a(22),L=a(159),I=a(160),w=a(179),A=a(184),T=a(12),P=a.n(T),F=a(0),E=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={dataObj:{},showLoadMore:!0},n.getData(),n}return Object(m.a)(a,[{key:"getData",value:function(){var e=this;P.a.get("https://node-pritam.firebaseio.com/ecom/hompage.json").then((function(t){e.setState({dataObj:t.data,showLoadMore:!1})}),(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(F.jsx)("div",{children:this.state.showLoadMore?null:Object(F.jsxs)(F.Fragment,{children:[void 0!==this.state.dataObj.banner?Object(F.jsx)(L.a,{style:{width:"100%"},children:Object(F.jsx)(I.a,{style:{margin:"0px"},children:Object(F.jsx)(w.a,{name:"banner",children:this.state.dataObj.banner.map((function(t){return e.showCarousel(t,e.state.dataObj.bannerURL,"220rem",3e3,1)}))})})}):null,void 0!==this.state.dataObj.category?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(S.a,{variant:"danger",children:"Category"}),Object(F.jsx)(I.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:this.state.dataObj.category.map((function(t){return null!==t&&t.enable?e.getCategory(t,e.state.dataObj.categoryURL):null}))})]}):null,void 0!==this.state.dataObj.offers?Object(F.jsx)(L.a,{style:{width:"100%"},children:Object(F.jsx)(I.a,{style:{margin:"0px"},children:Object(F.jsx)(w.a,{name:"offers",children:this.state.dataObj.offers.map((function(t){return e.showCarousel(t,e.state.dataObj.offersURL,"80rem",2e3,0)}))})})}):null,void 0!==this.state.dataObj.brand?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(S.a,{variant:"danger",children:"Brand"}),Object(F.jsx)(I.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:this.state.dataObj.brand.map((function(t){return null!=t?e.getBrand(t):null}))})]}):null]})})}},{key:"showCarousel",value:function(e,t,a,n,r){return Object(F.jsx)(w.a.Item,{interval:n,indicators:1===r?1:0,controls:r?1:0,children:Object(F.jsx)("img",{width:"100%",height:a,alt:e,src:t+e+"?alt=media"})},e)}},{key:"getCategory",value:function(e,t){return Object(F.jsx)(k.b,{to:"/products?category="+e.name,children:Object(F.jsxs)(A.a,{className:"Card",children:[Object(F.jsx)("img",{height:"220rem",alt:e.name,src:t+e.image+"?alt=media"}),Object(F.jsx)("p",{style:{textAlign:"center",margin:"0px"},children:Object(F.jsx)("b",{children:e.name})})]})},e.name)}},{key:"getBrand",value:function(e){return Object(F.jsx)(k.b,{to:"/products?brand="+e,children:Object(F.jsx)(A.a,{className:"Card",children:Object(F.jsx)("p",{style:{textAlign:"center",margin:"4px"},children:Object(F.jsx)("b",{children:e})})})},e)}}]),a}(d.Component),D=Object(C.g)(E),_=a(181),q=a(162),H=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(_.a.Container,{id:"left-tabs-example",defaultActiveKey:"about",children:Object(F.jsxs)(I.a,{style:{margin:"0px"},children:[Object(F.jsx)(q.a,{sm:3,children:Object(F.jsxs)(f.a,{variant:"pills",className:"flex-column",children:[Object(F.jsx)(f.a.Item,{children:Object(F.jsx)(f.a.Link,{eventKey:"about",children:"About Us"})}),Object(F.jsx)(f.a.Item,{children:Object(F.jsx)(f.a.Link,{eventKey:"social",children:"Social Media"})}),Object(F.jsx)(f.a.Item,{children:Object(F.jsx)(f.a.Link,{eventKey:"shipping",children:"Shipping"})}),Object(F.jsx)(f.a.Item,{children:Object(F.jsx)(f.a.Link,{eventKey:"contact",children:"Contact Us"})})]})}),Object(F.jsx)(q.a,{sm:9,children:Object(F.jsxs)(_.a.Content,{children:[Object(F.jsx)(_.a.Pane,{eventKey:"about",children:Object(F.jsx)("p",{children:"About"})}),Object(F.jsx)(_.a.Pane,{eventKey:"social",children:Object(F.jsxs)("ol",{children:[Object(F.jsx)("li",{children:"Facebook"}),Object(F.jsx)("li",{children:"Twitter"}),Object(F.jsx)("li",{children:"YouTube"})]})}),Object(F.jsx)(_.a.Pane,{eventKey:"shipping",children:Object(F.jsx)("p",{children:"Shipping"})}),Object(F.jsx)(_.a.Pane,{eventKey:"contact",children:Object(F.jsx)("p",{children:"Contact"})})]})})]})})})}}]),a}(d.Component),R=a.p+"static/media/notfound.e4279006.svg",B=(a(99),function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(F.jsxs)("div",{className:"center",children:[Object(F.jsx)("img",{src:R,alt:R,height:"300",className:"center"}),Object(F.jsx)("br",{}),Object(F.jsx)(k.b,{to:"/",className:"btn btn-primary",children:"Go to Home"})]})}}]),a}(d.Component)),V=a(163),M=a(37),$=(a(68),a(21)),U=a(104),J=a.n(U),K=a(88),z="1046212221280-q9flr5ppippq15cicnk55erneppcd4nk.apps.googleusercontent.com",W=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isLogined:!!localStorage.getItem("name"),accessToken:""},n.login=n.login.bind(Object(O.a)(n)),n.handleLoginFailure=n.handleLoginFailure.bind(Object(O.a)(n)),n.logout=n.logout.bind(Object(O.a)(n)),n.handleLogoutFailure=n.handleLogoutFailure.bind(Object(O.a)(n)),n.handleLoginFacebook=n.handleLoginFacebook.bind(Object(O.a)(n)),n}return Object(m.a)(a,[{key:"login",value:function(e){e.accessToken?($.a.event({category:"Google Login",action:e.profileObj.email}),this.setState((function(t){return{isLogined:!0,accessToken:e.accessToken}})),localStorage.clear(),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("email",e.profileObj.email),localStorage.setItem("name",e.profileObj.name),localStorage.setItem("imageUrl",e.profileObj.imageUrl),localStorage.setItem("loginTime",(new Date).toISOString()),this.updateInfo(e.profileObj.email,e.profileObj.name,e)):$.a.event({category:"Google Login Failed",action:JSON.stringify(e)})}},{key:"updateInfo",value:function(e,t,a){var n=this;P.a.post("http://localhost:3000/api/auth/social",{email:e,name:t,date:Date.now(),info:a}).then((function(e){localStorage.setItem("token",e.data.user.token),localStorage.setItem("uid",e.data.user.id),n.updateCart(e.data.user.id)}),(function(e){console.log(e),localStorage.clear(),alert("Something went Wrong! Try again...")}))}},{key:"updateCart",value:function(e){var t=this;P.a.post("http://localhost:3000/api/mongoclient/id?collection=cart&id="+e,{}).then((function(e){var a=e.data.data;void 0!==a&&null!==a?localStorage.setItem("cart",JSON.stringify(e.data.data)):localStorage.setItem("cart",[]),t.props.updateLogin(),t.props.history.push("/")}),(function(e){console.log(e),localStorage.setItem("cart",[])}))}},{key:"logout",value:function(e){$.a.event({category:"Sign Out",action:"logout"}),this.setState((function(e){return{isLogined:!1,accessToken:""}})),localStorage.clear(),M.b.warn("Logout",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.props.updateLogin(),this.props.history.push("/")}},{key:"handleLoginFailure",value:function(e){alert("Google - Failed to log in"),$.a.event({category:"Google Login Failure",action:JSON.stringify(e)})}},{key:"handleLogoutFailure",value:function(e){alert("Google - Failed to log out"),$.a.event({category:"Google Logout Failure",action:JSON.stringify(e)})}},{key:"handleLoginFacebook",value:function(e){e.accessToken?(this.setState({isLogined:!0,accessToken:e.accessToken}),$.a.event({category:"Facebook Login",action:e.email}),localStorage.clear(),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("facebookId",e.userID),localStorage.setItem("imageUrl",e.picture.data.url),localStorage.setItem("loginTime",(new Date).toISOString()),this.updateInfo(e.email,e.name,e)):(alert("Facebook - Failed to log in"),$.a.event({category:"Facebook Login Failure",action:JSON.stringify(e)}))}},{key:"getProfile",value:function(){return Object(F.jsx)(V.a,{children:Object(F.jsxs)("tbody",{children:[Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:"2",children:Object(F.jsx)("img",{src:localStorage.getItem("imageUrl"),alt:"",height:"150",width:"150"})})}),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:"2",children:Object(F.jsx)("h3",{children:localStorage.getItem("name")})})}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Email"}),Object(F.jsx)("td",{children:localStorage.getItem("email")})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Last Login Time"}),Object(F.jsx)("td",{children:localStorage.getItem("loginTime")})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:Object(F.jsx)(k.b,{to:"/address",className:"btn btn-primary",children:"My Address"})}),Object(F.jsx)("td",{children:Object(F.jsx)(k.b,{to:"/orders",className:"btn btn-primary",children:"Order History"})})]}),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:"2"})})]})})}},{key:"render",value:function(){return Object(F.jsx)(L.a,{fluid:!0,className:"center",children:Object(F.jsx)("div",{children:this.state.isLogined?Object(F.jsxs)(F.Fragment,{children:[this.getProfile(),Object(F.jsx)(K.GoogleLogout,{clientId:z,buttonText:"Logout",onLogoutSuccess:this.logout,onFailure:this.handleLogoutFailure}),Object(F.jsx)(M.a,{})]}):Object(F.jsxs)("div",{children:[Object(F.jsx)(K.GoogleLogin,{clientId:z,buttonText:"Sign in with Google",onSuccess:this.login,onFailure:this.handleLoginFailure,cookiePolicy:"single_host_origin",responseType:"code,token"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(J.a,{appId:"396350414949326",autoLoad:!1,fields:"name,email,picture",icon:"fa-facebook",callback:this.handleLoginFacebook})]})})})}}]),a}(d.Component),Y=Object(C.g)(W),G=a(171),Q=a(43),X=a(36),Z=a.n(X),ee=a(183),te=Z()(n||(n=Object(Q.a)(["\n  query GetPosts {\n    posts {\n      id\n      author\n      body\n    }\n  }\n"]))),ae=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(ee.b,{query:te,children:function(e){var t=e.loading,a=e.data;return t||void 0===a||void 0===a.posts?Object(F.jsx)("p",{children:"Something went wrong!"}):Object(F.jsxs)(V.a,{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Author"}),Object(F.jsx)("th",{children:"Body"})]})}),Object(F.jsx)("tbody",{children:a.posts.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.author}),Object(F.jsx)("td",{children:e.body})]},e.id)}))})]})}}),Object(F.jsx)("hr",{}),Object(F.jsxs)("p",{children:["Environment = ","production"]}),Object(F.jsxs)("p",{children:["API_URL = ","http://localhost:3000"," "]})]})},ne=a(46),re=a.n(ne),ce=a(60),se=a(182),ie=a(164),oe=a(165),le=a(166),de=a(167),je=a(168),he=a(169),be=a(170),ue=a(15),me=new(a(110).a)({uri:"http://localhost:3000/graphql"}),Oe=Z()(r||(r=Object(Q.a)(["\n  mutation SubmitPost($input: PostInput!) {\n    submitPost(input: $input) {\n      id\n    }\n  }\n"]))),pe=function(e){var t=e.post,a=e.onClose;return Object(F.jsx)(ue.b,{onSubmit:function(){var e=Object(ce.a)(re.a.mark((function e(t){var n,r,c,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.author,c=t.body,s={id:n,author:r,body:c},e.next=4,me.mutate({variables:{input:s},mutation:Oe,refetchQueries:function(){return[{query:te}]}});case 4:a();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:t,render:function(e){var n=e.handleSubmit,r=e.pristine;e.invalid;return Object(F.jsx)(se.a,{isOpen:!0,toggle:a,children:Object(F.jsxs)(ie.a,{onSubmit:n,children:[Object(F.jsx)(oe.a,{toggle:a,children:t.id?"Edit Post":"New Post"}),Object(F.jsxs)(le.a,{children:[Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Author"}),Object(F.jsx)(ue.a,{required:!0,name:"author",className:"form-control",component:"input"})]}),Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Body"}),Object(F.jsx)(ue.a,{required:!0,name:"body",className:"form-control",component:"input"})]})]}),Object(F.jsxs)(he.a,{children:[Object(F.jsx)(be.a,{type:"submit",disabled:r,color:"primary",children:"Save"}),Object(F.jsx)(be.a,{color:"secondary",onClick:a,children:"Cancel"})]})]})})}})},xe=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={editing:null},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.editing;return Object(F.jsxs)(L.a,{fluid:!0,children:[Object(F.jsx)(G.a,{className:"my-2",color:"primary",onClick:function(){return e.setState({editing:{}})},children:"New Post"}),Object(F.jsx)(ae,{canEdit:function(){return!0},onEdit:function(t){return e.setState({editing:t})}}),t&&Object(F.jsx)(pe,{post:t,onClose:function(){return e.setState({editing:null})}})]})}}]),a}(d.Component),ge=Z()(c||(c=Object(Q.a)(["\n  {\n    customers {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),ve=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(F.jsx)(ee.b,{query:ge,children:function(e){var t=e.loading,a=e.error,n=e.data;return t?"Loading...":a?"Error! ".concat(a.message):Object(F.jsx)("div",{className:"container",children:Object(F.jsxs)("div",{className:"panel panel-default",children:[Object(F.jsx)("div",{className:"panel-heading",children:Object(F.jsx)("h4",{children:Object(F.jsx)(k.b,{to:"/customers/edit",className:"btn btn-primary",children:"Add Customer"})})}),Object(F.jsx)("div",{className:"panel-body",children:Object(F.jsxs)("table",{className:"table table-stripe",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Name"}),Object(F.jsx)("th",{children:"Producer"}),Object(F.jsx)("th",{children:"Rating"})]})}),Object(F.jsx)("tbody",{children:n.customers.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:Object(F.jsx)(k.b,{to:"/customer/edit".concat("/",e.id),children:e.name})}),Object(F.jsx)("td",{children:e.producer}),Object(F.jsx)("td",{children:e.rating})]},t)}))})]})})]})})}})}}]),a}(d.Component),ye=a(172),fe=Z()(s||(s=Object(Q.a)(["\n  query customer($id: ID!) {\n    customer(id: $id) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),Se=Z()(i||(i=Object(Q.a)(["\n  mutation updateCustomer(\n    $id: ID!\n    $name: String!\n    $producer: String!\n    $rating: Float!\n  ) {\n    updateCustomer(id: $id, name: $name, producer: $producer, rating: $rating) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),Ne=Z()(o||(o=Object(Q.a)(["\n  mutation addCustomer($name: String!, $producer: String!, $rating: Float!) {\n    addCustomer(name: $name, producer: $producer, rating: $rating) {\n      id\n      name\n      producer\n      rating\n    }\n  }\n"]))),ke=Z()(l||(l=Object(Q.a)(["\n  mutation deleteCustomer($id: ID!) {\n    deleteCustomer(id: $id) {\n      id\n    }\n  }\n"]))),Ce=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,isEdit:!!e.match.params.id},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{children:[Object(F.jsxs)(S.a,{variant:"primary",children:["Customer ",this.state.isEdit?"Edit":"Add"]}),Object(F.jsx)("h4",{children:Object(F.jsx)(k.b,{to:"/customers",className:"btn btn-primary",children:"Customer List"})}),Object(F.jsx)("hr",{}),this.state.isEdit?Object(F.jsx)(ee.b,{query:fe,variables:{id:this.state.id},children:function(t){var a=t.loading,n=t.error,r=t.data;return a?e.showLoading():n?"Error! ".concat(n.message):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ee.a,{mutation:Se,onCompleted:function(){return e.props.history.push("/customers")},children:function(t,a){var n=a.loading,c=a.error;return e.showForm(t,n,c,r)}}),Object(F.jsx)(ee.a,{mutation:ke,onCompleted:function(){return e.props.history.push("/customers")},children:function(t,a){var n=a.loading,c=a.error;return Object(F.jsxs)("div",{children:[Object(F.jsx)("form",{onSubmit:function(e){e.preventDefault(),t({variables:{id:r.customer.id}})},children:Object(F.jsxs)("div",{className:"container panel-body",children:[Object(F.jsx)("p",{}),Object(F.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Delete"})]})}),n&&e.showLoading(),c&&Object(F.jsx)("p",{children:"Error :( Please try again"})]})}},r.customer.id)]})}}):Object(F.jsx)(ee.a,{mutation:Ne,onCompleted:function(t){e.props.history.push("/customer/edit".concat("/",t.addCustomer.id))},children:function(t,a){var n=a.loading,r=a.error;return e.showForm(t,n,r,null)}})]})}},{key:"showForm",value:function(e,t,a,n){var r,c,s,i=this;return Object(F.jsx)("div",{className:"container",children:Object(F.jsxs)("div",{className:"panel panel-default",children:[Object(F.jsx)("div",{className:"panel-heading",children:Object(F.jsx)("h3",{className:"panel-title",children:"Edit"})}),Object(F.jsxs)("div",{className:"panel-body",children:[Object(F.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i.state.isEdit?e({variables:{id:i.state.id,name:r.value,producer:c.value,rating:parseInt(s.value)}}):e({variables:{name:r.value,producer:c.value,rating:parseInt(s.value)}})},children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(F.jsx)("input",{type:"text",className:"form-control",name:"name",ref:function(e){r=e},placeholder:"Name",defaultValue:n?n.customer.name:""})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"producer",children:"Producer:"}),Object(F.jsx)("input",{type:"text",className:"form-control",name:"producer",ref:function(e){c=e},placeholder:"Producer",defaultValue:n?n.customer.producer:""})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"rating",children:"Rating:"}),Object(F.jsx)("input",{type:"number",step:"1",className:"form-control",name:"rating",ref:function(e){s=e},placeholder:"Rating",defaultValue:n?n.customer.rating:""})]}),Object(F.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit"})]}),t&&this.showLoading(),a&&Object(F.jsx)("p",{children:"Error :( Please try again"})]})]})})}},{key:"showLoading",value:function(){return Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)(ye.a,{animation:"border",role:"status",variant:"info",children:Object(F.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),a}(d.Component),Le=Object(C.g)(Ce),Ie=Object(C.g)((function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)("img",{src:g,alt:"Search",height:"90"})}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{style:{margin:"12px"},children:Object(F.jsxs)("form",{className:"searchinput",onSubmit:function(t){t.preventDefault(),e.handleSearch(),e.history.push("/products?search="+t.target.search.value)},children:[Object(F.jsx)("input",{type:"text",placeholder:"Search ...",name:"search",id:"search"}),Object(F.jsx)("button",{type:"submit",children:Object(F.jsx)("i",{className:"fa fa-search"})})]})}),Object(F.jsx)("br",{})]})})),we=a(13),Ae=a(48),Te=a(57),Pe=Object(d.createContext)(),Fe=function(e){var t=e.reducer,a=e.initialState,n=e.children;return Object(F.jsx)(Pe.Provider,{value:Object(d.useReducer)(t,a),children:n})},Ee=function(){return Object(d.useContext)(Pe)},De=(a(61),Object(C.g)((function(e){var t=Ee(),a=Object(we.a)(t,2);Object(Te.a)(a[0]);var n,r=a[1];function c(t){e.history.push("/pid/"+t)}return Object(F.jsx)(q.a,{children:Object(F.jsxs)(A.a,{className:"Card",children:[Object(F.jsx)("img",{height:"220rem",alt:e.value.product,onError:function(t){t.target.onerror=null,t.target.src=e.value.searchImage},src:(n=e.value.searchImage,"https://firebasestorage.googleapis.com/v0/b/node-pritam.appspot.com/o/ecom%2Fproduct%2F"+n.substring(n.lastIndexOf("/")+1)+"?alt=media"),onClick:function(){return c(e.value._id)}}),Object(F.jsx)(S.a,{className:"Overlap",variant:"primary",children:e.value.brand}),0===e.value.rating?null:Object(F.jsx)(S.a,{className:"OverlapRating",variant:"success",children:Number(e.value.rating).toFixed(2)}),Object(F.jsx)(V.a,{style:{margin:0,padding:0},children:Object(F.jsxs)("tbody",{children:[Object(F.jsx)("tr",{children:Object(F.jsx)("td",{style:{margin:0,padding:0},colSpan:"3",className:"Title",onClick:function(){return c(e.value._id)},children:e.value.product.substring(0,36)})}),Object(F.jsxs)("tr",{children:[Object(F.jsxs)("td",{style:{margin:0,padding:0,border:"none"},className:"Price",onClick:function(){return c(e.value._id)},children:["\u20b9 ",e.value.price]}),Object(F.jsxs)("td",{style:{margin:0,padding:0,border:"none"},className:"PriceCancel",children:["\u20b9 ",e.value.mrp]}),Object(F.jsx)("td",{style:{margin:0,padding:0,border:"none"},children:Object(F.jsx)("img",{src:g,alt:g,height:"30",onClick:function(){return t=e.value,r({type:"ADD_TO_BASKET",item:t}),M.b.success("\ud83d\uded2 "+t.product,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),$.a.event({category:"Add to Cart",action:JSON.stringify(t)}),void $.a.plugin.execute("ecommerce","addItem",{id:t.productId,name:t.product,price:t.price.toString(),category:t.brand,quantity:t.qty.toString()});var t}})})]})]})})]})})}))),_e=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this,e);var r=new URLSearchParams(n.props.location.search);return n.state={curPage:1,prevY:0,aList:[],showLoadMore:!0,showNoContent:!1,continueIncrement:!0,search:r.get("search"),brand:r.get("brand"),category:r.get("category"),sort:r.get("sort")},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData();this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.location!==e.location){var a=new URLSearchParams(this.props.location.search);this.setState({curPage:1,prevY:0,aList:[],showLoadMore:!0,showNoContent:!1,continueIncrement:!0,search:a.get("search"),brand:a.get("brand"),category:a.get("category"),sort:a.get("sort")},(function(){t.getData()}))}}},{key:"handleObserver",value:function(e,t){var a=e[0].boundingClientRect.y;this.state.continueIncrement&&this.state.prevY>a&&this.getData(),this.setState({prevY:a})}},{key:"getData",value:function(){var e=this,t={};null!==this.state.search&&(t={$or:[{product:{$regex:this.state.search,$options:"i"}},{additionalInfo:{$regex:this.state.search,$options:"i"}},{brand:{$regex:this.state.search,$options:"i"}},{category:{$regex:this.state.search,$options:"i"}}]}),null!==this.state.brand&&null!==this.state.category&&(t.brand=this.state.brand,t.category=this.state.category),null!==this.state.brand&&(t.brand=this.state.brand),null!==this.state.category&&(t.category=this.state.category);var a={};switch(this.state.sort){case"price":a={price:1};break;case"pricedesc":a={price:-1};break;case"rating":a={rating:1};break;case"ratingdesc":a={rating:-1};break;case"name":a={product:1};break;case"namedesc":a={product:-1};break;case"id":a={_id:-1};break;case"iddesc":a={_id:1};break;default:a={rating:-1}}P.a.post("http://localhost:3000/api/mongoclient?collection=productmyntra",{projection:{productId:1,product:1,searchImage:1,brand:1,rating:1,price:1,mrp:1},search:t,sort:a,limit:12,skip:12*(this.state.curPage-1)}).then((function(t){200===t.status?1===e.state.curPage?e.setState({aList:t.data,curPage:e.state.curPage+1,continueIncrement:!(t.data.length<12),showLoadMore:!(t.data.length<12)}):e.setState({aList:[].concat(Object(Ae.a)(e.state.aList),Object(Ae.a)(t.data)),curPage:e.state.curPage+1},(function(){})):204===t.status&&e.setState({showLoadMore:!1,showNoContent:1===e.state.curPage,continueIncrement:!1})}),(function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this,t=[],a=0,n=Object.entries(this.state.aList);a<n.length;a++){var r=Object(we.a)(n[a],2),c=r[0],s=r[1];t.push(Object(F.jsx)(De,{index:c,value:s},c))}return Object(F.jsxs)(F.Fragment,{children:[0===this.state.aList.length?null:Object(F.jsx)(I.a,{xs:"2",sm:"2",md:"4",lg:"6",xl:"8",style:{margin:"0px"},children:t}),Object(F.jsxs)("div",{ref:function(t){return e.loadingRef=t},children:[this.state.showLoadMore?this.showLoading():null,this.state.showNoContent?Object(F.jsxs)("div",{className:"center",children:[Object(F.jsx)("img",{src:R,alt:R,height:"300",className:"center"}),Object(F.jsx)("br",{}),Object(F.jsx)(k.b,{to:"/products",className:"btn btn-primary",children:"Explore more with us!"})]}):null]}),Object(F.jsx)(M.a,{})]})}},{key:"showLoading",value:function(){return Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)(ye.a,{animation:"border",role:"status",variant:"info",children:Object(F.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),a}(d.Component),qe=Object(C.g)(_e),He=a(109),Re=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this,e);var r=new URLSearchParams(n.props.location.search);return n.state={search:r.get("search"),brand:r.get("brand"),category:r.get("category"),sort:r.get("sort"),brandList:JSON.parse(localStorage.getItem("brandList")),categoryList:JSON.parse(localStorage.getItem("categoryList"))},n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handleSearchInputThrottled=Object(He.debounce)(n.handleChange,1500),null==n.state.brandList&&n.getData("brand"),null==n.state.categoryList&&n.getData("category"),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=this;this.setState(Object(b.a)({},e.target.name,e.target.value),(function(){t.redirectURL()}))}},{key:"redirectURL",value:function(){var e=window.location.pathname+"?";null!==this.state.search&&""!==this.state.search&&(e=e+"search="+this.state.search),null!==this.state.category&&""!==this.state.category&&(e=e+"&category="+this.state.category),null!==this.state.brand&&""!==this.state.brand&&(e=e+"&brand="+this.state.brand),null!==this.state.sort&&""!==this.state.sort&&(e=e+"&sort="+this.state.sort),this.props.history.push(e)}},{key:"getData",value:function(e){var t=this;P.a.post("http://localhost:3000/api/mongoclient/distinct?collection=productmyntra&id="+e,{}).then((function(a){"brand"===e?(localStorage.setItem("brandList",JSON.stringify(a.data)),t.setState({brandList:a.data})):"category"===e&&(localStorage.setItem("categoryList",JSON.stringify(a.data)),t.setState({categoryList:a.data}))}),(function(e){console.log(e)}))}},{key:"render",value:function(){return Object(F.jsx)("div",{className:"container",style:{paddingBottom:"8px"},children:Object(F.jsxs)("div",{className:"row",children:[Object(F.jsxs)("div",{name:"search",className:"col-3",children:[Object(F.jsx)("label",{children:"Search :"}),Object(F.jsx)("br",{}),Object(F.jsx)("input",{className:"form-control",name:"search",id:"search",defaultValue:null!==this.state.search?this.state.search:"",onChange:this.handleSearchInputThrottled})]}),Object(F.jsxs)("div",{name:"sort",className:"col-3",children:[Object(F.jsx)("label",{children:"Sort :"}),Object(F.jsxs)("select",{className:"custom-select",name:"sort",id:"sort",value:null!==this.state.sort?this.state.sort:"",onChange:this.handleChange,children:[Object(F.jsx)("option",{value:"",children:"All"}),Object(F.jsx)("option",{value:"price",children:"Price \u2191"}),Object(F.jsx)("option",{value:"pricedesc",children:"Price \u2193"}),Object(F.jsx)("option",{value:"rating",children:"Rating \u2191"}),Object(F.jsx)("option",{value:"ratingdesc",children:"Rating \u2193"}),Object(F.jsx)("option",{value:"name",children:"Name \u2191"}),Object(F.jsx)("option",{value:"namedesc",children:"Name \u2193"})]})]}),null!==this.state.brandList?Object(F.jsxs)("div",{name:"brand",className:"col-3",children:[Object(F.jsx)("label",{children:"Brand :"}),Object(F.jsxs)("select",{className:"custom-select",name:"brand",id:"brand",defaultValue:null!==this.state.brand?this.state.brand:"",onChange:this.handleChange,children:[Object(F.jsx)("option",{value:"",children:"All"},"NA"),this.state.brandList.map((function(e){return Object(F.jsx)("option",{value:e,children:e},e)}))]})]}):null,null!==this.state.categoryList?Object(F.jsxs)("div",{name:"category",className:"col-3",children:[Object(F.jsx)("label",{children:"Category :"}),Object(F.jsxs)("select",{className:"custom-select",name:"category",id:"category",defaultValue:this.state.category,onChange:this.handleChange,children:[Object(F.jsx)("option",{value:"",children:"All"},"NA"),this.state.categoryList.map((function(e){return Object(F.jsx)("option",{value:e,children:e},e)}))]})]}):null]})})}}]),a}(d.Component),Be=Object(C.g)(Re),Ve=function(e){var t=Ee(),a=Object(we.a)(t,2);Object(Te.a)(a[0]);var n=a[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(G.a,{className:"btn btn-primary",style:{width:"-webkit-fill-available"},onClick:function(){return t=e.aObj,$.a.event({category:"Add to Cart",action:JSON.stringify(t)}),$.a.plugin.execute("ecommerce","addItem",{id:t.productId,name:t.product,price:t.price.toString(),category:t.brand,quantity:t.qty.toString()}),n({type:"ADD_TO_BASKET",item:t}),void M.b.success("\ud83d\uded2 "+t.product,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t},children:"Add to Cart"}),Object(F.jsx)(M.a,{})]})},Me=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={id:e.match.params.id,aObj:{},isEdit:!!e.match.params.id,isLogined:!!localStorage.getItem("name")},n.getData(e.match.params.id),n}return Object(m.a)(a,[{key:"getData",value:function(e){var t=this;P.a.post("http://localhost:3000/api/mongoclient/id?collection=productmyntra&id="+e,{}).then((function(e){t.setState({aObj:e.data})}),(function(e){console.log(e)}))}},{key:"render",value:function(){return Object(F.jsxs)("div",{children:[Object(F.jsxs)(S.a,{variant:"primary",children:["Product ",this.state.isEdit?"Deails":"Add"]}),0===Object.keys(this.state.aObj).length?this.showLoading():this.showData(this.state.aObj)]})}},{key:"showLoading",value:function(){return Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)(ye.a,{animation:"border",role:"status",variant:"info",children:Object(F.jsx)("span",{className:"sr-only",children:"Loading..."})})})}},{key:"isMobile",value:function(){var e=/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());return e}},{key:"getTitleHeading",value:function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h3",{style:{marginLeft:"16px"},children:e.product}),Object(F.jsx)("hr",{}),Object(F.jsx)("p",{style:{marginLeft:"24px"},children:e.additionalInfo})]})}},{key:"showVarient",value:function(e){return Object(F.jsx)(F.Fragment,{children:null!==e&&e.length>1?Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Varient"}),Object(F.jsx)("td",{colSpan:"2",children:Object(F.jsxs)("select",{className:"custom-select",name:"varient",id:"varient",defaultValue:"",children:[Object(F.jsx)("option",{value:"",children:"Not Selected"},"NA"),e.map((function(e){return e.available?e.inventory<6?Object(F.jsxs)("option",{value:e.label,children:[e.label," - ",e.inventory," Left"]},e.skuId):Object(F.jsx)("option",{value:e.label,children:e.label},e.skuId):null}))]})})]},"varient"):null})}},{key:"showData",value:function(e){return Object(F.jsx)(F.Fragment,{children:this.isMobile()?Object(F.jsxs)(F.Fragment,{children:[this.getTitleHeading(e),Object(F.jsx)("table",{className:"table table-stripe",children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"Price",children:Object(F.jsxs)("b",{children:["Price : ",e.price," \u20b9"]})}),Object(F.jsxs)("td",{className:"PriceCancel",children:["MRP : ",e.mrp," \u20b9"]}),Object(F.jsxs)("td",{children:[e.discount," \u20b9 / ",Object(F.jsx)("b",{children:e.discountDisplayLabel})]})]},"price"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Rating"}),Object(F.jsxs)("td",{children:[Object(F.jsxs)("b",{children:[" ",e.rating]})," / 5 \ud83c\udf1f"]}),Object(F.jsxs)("td",{children:["Total Rating: ",e.ratingCount]})]},"rating"),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:"3",children:this.showImages(e.images)})},"images"),this.showVarient(e.inventoryInfo),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:"3",children:Object(F.jsx)(Ve,{aObj:e})})},"cart"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Brand"}),Object(F.jsx)("td",{colSpan:"2",children:e.brand})]},"brand"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Style"}),Object(F.jsxs)("td",{colSpan:"2",children:[e.gender," - ",e.category]})]},"style"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Color"}),Object(F.jsx)("td",{colSpan:"2",children:e.primaryColour})]},"primaryColour"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Season"}),Object(F.jsx)("td",{colSpan:"2",children:e.season})]},"season")]})})]}):Object(F.jsxs)(F.Fragment,{children:[this.getTitleHeading(e),Object(F.jsx)("hr",{}),Object(F.jsxs)(I.a,{style:{margin:"0px"},children:[Object(F.jsx)(q.a,{children:this.showImages(e.images)}),Object(F.jsx)(q.a,{children:Object(F.jsx)("table",{className:"table table-stripe",children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"Price",style:{borderTop:"0px"},children:Object(F.jsxs)("b",{children:["Price : ",e.price," \u20b9"]})}),Object(F.jsxs)("td",{className:"PriceCancel",style:{borderTop:"0px"},children:["MRP : ",e.mrp," \u20b9"]}),Object(F.jsxs)("td",{style:{borderTop:"0px"},children:[e.discount," \u20b9 / ",Object(F.jsx)("b",{children:e.discountDisplayLabel})]})]},"price"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Rating"}),Object(F.jsxs)("td",{children:[Object(F.jsxs)("b",{children:[" ",Number(e.rating).toFixed(2)]})," / 5 \ud83c\udf1f"]}),Object(F.jsxs)("td",{children:["Total Rating: ",e.ratingCount]})]},"rating"),this.showVarient(e.inventoryInfo),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:"3",children:Object(F.jsx)(Ve,{aObj:e})})},"cart"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Brand"}),Object(F.jsx)("td",{colSpan:"2",children:e.brand})]},"brand"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Style"}),Object(F.jsxs)("td",{colSpan:"2",children:[e.gender," - ",e.category]})]},"style"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Color"}),Object(F.jsx)("td",{colSpan:"2",children:e.primaryColour})]},"primaryColour"),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:"Season"}),Object(F.jsx)("td",{colSpan:"2",children:e.season})]},"season")]})})})]})]})})}},{key:"showImages",value:function(e){return Object(F.jsx)(L.a,{children:Object(F.jsx)(w.a,{children:e.map((function(t,a){return null!=t.src&&t.src.length>0?Object(F.jsxs)(w.a.Item,{interval:2e3,children:[Object(F.jsx)("img",{height:"450rem",className:"d-block w-100",alt:t.view,src:t.src}),Object(F.jsx)(w.a.Caption,{children:Object(F.jsxs)("p",{children:[a+1," / ",e.length]})})]},a):null}))})})}}]),a}(d.Component),$e=Object(C.g)(Me),Ue=a(39),Je={basket:void 0!==localStorage.getItem("cart")&&null!==localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],user:null},Ke=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price*t.qty+e}),0)},ze=function(e,t){switch(t.type){case"GET_BASKET":return Object(Ue.a)(Object(Ue.a)({},e),{},{basket:Object(Ae.a)(e.basket)});case"ADD_TO_BASKET":var a=e.basket.findIndex((function(e){return e._id===t.item._id})),n=[];if(a>=0){var r=(n=Object(Ae.a)(e.basket))[a];r.qty<10?r.qty=r.qty+1:r.qty=10,n[a]=r}else{var c=t.item;c.qty=1,n=[].concat(Object(Ae.a)(e.basket),[c])}return localStorage.setItem("cart",JSON.stringify(n)),d(n),Object(Ue.a)(Object(Ue.a)({},e),{},{basket:n});case"UPDATE_FROM_BASKET":var s=e.basket.findIndex((function(e){return e._id===t.item._id})),i=Object(Ae.a)(e.basket);return i[s]=t.item,localStorage.setItem("cart",JSON.stringify(i)),d(i),Object(Ue.a)(Object(Ue.a)({},e),{},{basket:i});case"EMPTY_BASKET":return localStorage.setItem("cart",JSON.stringify([])),d([]),Object(Ue.a)(Object(Ue.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var o=e.basket.findIndex((function(e){return e._id===t._id})),l=Object(Ae.a)(e.basket);return o>=0?l.splice(o,1):console.warn("Cant remove product (id: ".concat(t._id,") as its not in basket!")),localStorage.setItem("cart",JSON.stringify(l)),d(l),Object(Ue.a)(Object(Ue.a)({},e),{},{basket:l});case"SET_USER":return Object(Ue.a)(Object(Ue.a)({},e),{},{user:t.user});default:return e}function d(e){if(localStorage.getItem("uid")){P.a.put("http://localhost:3000/api/mongoclient/updateone?collection=cart&id="+localStorage.getItem("uid"),{data:e}).then((function(e){}),(function(e){}))}}},We=Object(C.g)((function(e,t){var a=Ee(),n=Object(we.a)(a,2);Object(Te.a)(n[0]);var r=n[1],c=Object(d.useState)(e.value.qty),s=Object(we.a)(c,2),i=s[0],o=s[1],l=Object(d.useState)(e.value.price*e.value.qty),j=Object(we.a)(l,2),h=j[0],b=j[1];return Object(F.jsx)(A.a,{className:"Card",children:Object(F.jsxs)(I.a,{children:[Object(F.jsx)(q.a,{className:"col-xs-6 col-sm-6 col-md-3 col-lg-3 col-xl-3",children:Object(F.jsx)(k.b,{to:"/pid".concat("/",e.value._id),children:Object(F.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage})})}),Object(F.jsxs)(q.a,{children:[Object(F.jsx)(k.b,{to:"/pid".concat("/",e.value._id),style:{color:"rgba(0,0,0,.5)"},children:Object(F.jsx)("h5",{children:e.value.product})}),Object(F.jsx)("p",{style:{marginBottom:"4px"},children:e.value.brand}),Object(F.jsxs)("p",{style:{marginBottom:"4px"},children:["Rating : ",Object(F.jsxs)("b",{children:[" ",e.value.rating]})," / 5 \ud83c\udf1f"]}),Object(F.jsxs)("p",{className:"PriceCancel",children:["MRP : \u20b9 ",e.value.mrp]}),Object(F.jsxs)("p",{style:{fontWeight:"bold",padding:"0px"},className:"Price",children:["Price : \u20b9 ",e.value.price]}),Object(F.jsxs)(I.a,{children:[Object(F.jsx)(q.a,{children:Object(F.jsx)(G.a,{className:"btn-danger",onClick:function(){r({type:"REMOVE_FROM_BASKET",_id:e.value._id})},style:{padding:"2px",margin:"0px"},children:"Remove"})}),Object(F.jsxs)(q.a,{children:["Qty :"," ",t?Object(F.jsx)("select",{name:"qty",id:"qty",onChange:function(t){b(e.value.price*t.target.value),o(t.target.value);var a=e.value;a.qty=Number(t.target.value),r({type:"UPDATE_FROM_BASKET",item:a})},value:i,children:Array.apply(1,Array(10)).map((function(e,t){return Object(F.jsx)("option",{value:t+1,children:t+1},t+1)}))}):Object(F.jsx)("b",{children:i})]}),Object(F.jsx)(q.a,{children:Object(F.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",textAlign:"end",marginRight:"8px"},className:"Price",children:["\u20b9 ",h]})})]})]})]})})})),Ye=function(){return Object(F.jsxs)("div",{className:"center",children:[Object(F.jsx)("h3",{children:"Your cart is Empty!"}),Object(F.jsx)("img",{src:g,alt:g,height:"200",className:"center"}),Object(F.jsx)("br",{}),Object(F.jsx)(k.b,{to:"/",className:"btn btn-primary",children:"Continue Shopping"})]})},Ge=Object(C.g)((function(e){var t=Ee(),a=Object(we.a)(t,1)[0].basket,n=Object(d.useState)([]),r=Object(we.a)(n,2),c=(r[0],r[1]);return Object(d.useEffect)((function(){if(localStorage.getItem("uid")){P.a.post("http://localhost:3000/api/mongoclient/id?collection=cart&id="+localStorage.getItem("uid"),{}).then((function(e){localStorage.setItem("cart",JSON.stringify(e.data.data)),c(e.data.data)}),(function(e){console.log(e),c([])}))}}),[]),Object(F.jsx)(F.Fragment,{children:null===a||void 0===a||0===a.length?Object(F.jsx)(Ye,{}):Object(F.jsxs)(F.Fragment,{children:[null===a||void 0===a?void 0:a.map((function(e){return Object(F.jsx)(We,{value:e},e._id)})),Object(F.jsx)(A.a,{className:"Card",style:{padding:"10px"},children:Object(F.jsxs)(I.a,{style:{margin:"0px"},children:[Object(F.jsx)(q.a,{children:Object(F.jsxs)("h5",{style:{textAlign:"center"},children:[a.length," Items"]})}),Object(F.jsx)(q.a,{children:Object(F.jsxs)("h5",{style:{textAlign:"center"},children:[Ke(a)," \u20b9"," "]})}),Object(F.jsx)(q.a,{children:Object(F.jsx)(k.b,{to:"/confirm",className:"btn btn-primary",style:{width:"100%"},children:"Buy Now"})})]})})]})})})),Qe=a.p+"static/media/cartcount.c5fc1bff.svg",Xe=function(e){var t=Ee(),a=Object(we.a)(t,1)[0].basket;return Object(F.jsxs)(I.a,{style:{margin:"0px"},children:[Object(F.jsx)("img",{src:Qe,alt:"Cart",height:"35"}),Object(F.jsx)("p",{className:"CartText",style:{margin:"0px",padding:"0px",paddingTop:"3px"},children:a.length})]})},Ze=a(173),et=a(174),tt=a.p+"static/media/addaddress.641a1b89.svg",at=function(){return Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)(et.a,{animation:"border",role:"status",variant:"primary"})})},nt=function(e,t){e.history.push("/address/"+t)},rt=function(e){return Object(F.jsx)(Ze.a,{className:"Card",onClick:function(){return nt(e,"new")},children:Object(F.jsxs)("h5",{children:[Object(F.jsx)("img",{src:tt,alt:"Cart",height:"50",width:"50",style:{margin:20}}),Object(F.jsx)("br",{}),"Add Address"]})},"empty")},ct=Object(C.g)((function(e){var t=Object(d.useState)([]),a=Object(we.a)(t,2),n=a[0],r=a[1],c=Object(d.useState)(!1),s=Object(we.a)(c,2),i=s[0],o=s[1];return Object(d.useEffect)((function(){if(localStorage.getItem("uid")){o(!0),P.a.post("http://localhost:3000/api/mongoclient?collection=address",{search:{uid:localStorage.getItem("uid")}}).then((function(e){o(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&r(e.data)}),(function(e){o(!1),r([])}))}else e.history.push("/login")}),[]),Object(F.jsx)("div",{children:i?at():Object(F.jsxs)("div",{className:"text-center py-3",children:[rt(e),null===n||void 0===n?void 0:n.map((function(t,a){return Object(F.jsxs)(Ze.a,{className:"CardAddress",onClick:function(){return nt(e,t.addrid)},children:[Object(F.jsx)("h5",{className:"AddrLineText",children:t.firstName+" "+t.lastName}),Object(F.jsxs)("p",{className:"AddrLineText",children:[Object(F.jsx)("b",{children:"Mobile No : "}),t.mobileno]}),Object(F.jsx)("p",{className:"AddrLineText",children:void 0!==t.atype?t.atype:null}),Object(F.jsx)("p",{className:"AddrLineText",children:t.address}),Object(F.jsx)("p",{className:"AddrLineText",children:void 0!==t.landmark?t.landmark:null}),Object(F.jsx)("p",{className:"AddrLineText",children:t.area}),Object(F.jsx)("p",{className:"AddrLineText",children:t.city+" - "+t.pincode}),Object(F.jsx)("p",{className:"AddrLineText",children:t.state+", "+t.country})]},a)}))]})})})),st=a(175),it=a(176),ot=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).composeValidators=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}},n.state={addressID:e.match.params.id,isLoading:"new"!==e.match.params.id,address:[]},n.getData(n.state.addressID),n}return Object(m.a)(a,[{key:"getData",value:function(e){var t=this;if("new"===e);else if(void 0===e)this.props.history.push("/address");else if(localStorage.getItem("uid")){P.a.post("http://localhost:3000/api/mongoclient?collection=address",{search:{uid:localStorage.getItem("uid"),addrid:this.state.addressID}}).then((function(e){t.setState({isLoading:!1,address:e.data},(function(){1===this.state.address.length&&this.state.address[0].addrid===this.state.addressID||this.props.history.push("/address")}))}),(function(e){console.log(e),t.setState({isLoading:!1,address:[]}),alert("Something went Wrong! Try again...")}))}else this.props.history.push("/login")}},{key:"onFormSubmit",value:function(e){var t=this;e.date=(new Date).toISOString(),e.uid=localStorage.getItem("uid");e.addrid=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,9);var a="http://localhost:3000/api/";this.setState({isLoading:!0});var n="new"===this.state.addressID?a+"mongoclient/insert?collection=address":a+"mongoclient/updateone?collection=address&id="+this.state.address[0]._id;P.a.put(n,e).then((function(e){t.props.history.push("/address")}),(function(e){t.setState({isLoading:!1},(function(){console.log(e),alert("Something went Wrong! Try again...")}))}))}},{key:"deleteData",value:function(){var e=this;this.setState({isLoading:!0}),P.a.delete("http://localhost:3000/api/mongoclient/delete?collection=address&id="+this.state.address[0]._id,{}).then((function(t){e.props.history.push("/address")}),(function(t){e.setState({isLoading:!1},(function(){console.log(t),alert("Something went Wrong! Try again...")}))}))}},{key:"render",value:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(st.a,{variant:"primary",style:{background:"#007bff"},children:void 0!==this.state.addressID&&"new"===this.state.addressID?"Add new address":"Edit address"}),this.state.isLoading?this.showLoading():this.showData()]})}},{key:"showLoading",value:function(){return Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)(et.a,{animation:"border",role:"status",variant:"primary"})})}},{key:"isMobile",value:function(){var e=/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());return e}},{key:"openLink",value:function(){this.props.history.push("/address")}},{key:"showData",value:function(){var e=this;return Object(F.jsx)(it.a,{children:Object(F.jsx)(ue.b,{onSubmit:function(t){return e.onFormSubmit(t)},render:function(t){var a=t.handleSubmit,n=t.form,r=t.submitting,c=t.pristine;t.values;return Object(F.jsxs)("form",{onSubmit:a,children:[Object(F.jsx)(ue.a,{name:"atype",validate:e.composeValidators(e.required),children:function(t){t.input;var a,n=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Address Type"}),Object(F.jsxs)(ue.a,(a={type:"select",defaultValue:"Home",name:"atype",component:"select",className:"form-control"},Object(b.a)(a,"defaultValue",1===e.state.address.length?e.state.address[0].atype:"Home"),Object(b.a)(a,"children",[Object(F.jsx)("option",{value:"Home",children:"Home"}),Object(F.jsx)("option",{value:"Office",children:"Office"}),Object(F.jsx)("option",{value:"Billing",children:"Billing"}),Object(F.jsx)("option",{value:"Other",children:"Other"})]),a)),n.error&&n.touched&&Object(F.jsx)("span",{children:n.error})]})}}),Object(F.jsx)(ue.a,{name:"firstName",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"First Name"}),Object(F.jsx)(ue.a,{required:!0,type:"text",name:"firstName",className:"form-control",component:"input",placeholder:"Enter First Name",defaultValue:1===e.state.address.length?e.state.address[0].firstName:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"lastName",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Last Name"}),Object(F.jsx)(ue.a,{required:!0,type:"text",name:"lastName",className:"form-control",component:"input",placeholder:"Enter Last Name",defaultValue:1===e.state.address.length?e.state.address[0].lastName:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"mobileno",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Mobile number"}),Object(F.jsx)(ue.a,{required:!0,minLength:"10",maxLength:"10",min:"999999999",max:"9999999999",type:e.isMobile?"number":"text",name:"mobileno",className:"form-control",component:"input",placeholder:"Enter Mobile number",defaultValue:1===e.state.address.length?e.state.address[0].mobileno:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"address",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Flat, House no., Building, Company, Apartment"}),Object(F.jsx)(ue.a,{required:!0,type:"text",name:"address",className:"form-control",component:"input",placeholder:"Enter Address",defaultValue:1===e.state.address.length?e.state.address[0].address:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"area",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Area, Colony, Street, Sector, Village"}),Object(F.jsx)(ue.a,{required:!0,type:"text",name:"area",className:"form-control",component:"input",placeholder:"Enter Area",defaultValue:1===e.state.address.length?e.state.address[0].area:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"landmark",children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Landmark"}),Object(F.jsx)(ue.a,{type:"text",name:"landmark",className:"form-control",component:"input",placeholder:"E.g. Near Flyover, Behind Cinema, etc.",defaultValue:1===e.state.address.length?e.state.address[0].landmark:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"country",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Country"}),Object(F.jsx)(ue.a,{required:!0,type:"text",name:"country",className:"form-control",component:"input",placeholder:"Enter country",defaultValue:1===e.state.address.length?e.state.address[0].country:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"pincode",validate:e.composeValidators(e.required,e.mustBeNumber),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Pincode"}),Object(F.jsx)(ue.a,{required:!0,minLength:"6",maxLength:"6",min:"99999",max:"999999",type:e.isMobile?"number":"text",name:"pincode",className:"form-control",component:"input",placeholder:"Enter Pincode",defaultValue:1===e.state.address.length?e.state.address[0].pincode:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"state",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"Sate"}),Object(F.jsx)(ue.a,{required:!0,type:"text",name:"state",className:"form-control",component:"input",placeholder:"Enter state",defaultValue:1===e.state.address.length?e.state.address[0].state:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsx)(ue.a,{name:"city",validate:e.composeValidators(e.required),children:function(t){t.input;var a=t.meta;return Object(F.jsxs)(de.a,{children:[Object(F.jsx)(je.a,{children:"City"}),Object(F.jsx)(ue.a,{required:!0,type:"text",name:"city",className:"form-control",component:"input",placeholder:"Enter city",defaultValue:1===e.state.address.length?e.state.address[0].city:""}),a.error&&a.touched&&Object(F.jsx)("span",{children:a.error})]})}}),Object(F.jsxs)("div",{className:"buttons",children:["new"===e.state.addressID?null:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(be.a,{color:"danger",type:"button",onClick:function(){return e.deleteData()},children:"Delete"}),"\xa0\xa0\xa0"]}),Object(F.jsx)(be.a,{color:"warning",type:"button",onClick:function(){return e.openLink()},children:"Cancel"}),Object(F.jsx)(F.Fragment,{children:"\xa0\xa0\xa0"}),Object(F.jsx)(be.a,{type:"button",color:"primary",onClick:n.reset,disabled:r||c,children:"Reset"}),Object(F.jsx)(F.Fragment,{children:"\xa0\xa0\xa0"}),Object(F.jsx)(be.a,{type:"submit",color:"success",disabled:r,children:"Submit"})]}),Object(F.jsx)("br",{})]})}})})}},{key:"required",value:function(e){return e?void 0:""}},{key:"mustBeNumber",value:function(e){return isNaN(e)?"Must be a number":void 0}}]),a}(d.Component),lt=Object(C.g)(ot),dt=Object(C.g)((function(e){var t=Object(d.useState)(e.value.price*e.value.qty),a=Object(we.a)(t,1)[0];return Object(F.jsx)(A.a,{className:"Card",children:Object(F.jsxs)(I.a,{children:[Object(F.jsx)(q.a,{className:"col-xs-6 col-sm-6 col-md-3 col-lg-3 col-xl-3",children:Object(F.jsx)(k.b,{to:"/pid".concat("/",e.value._id),children:Object(F.jsx)("img",{height:"220rem",alt:e.value.product,src:e.value.searchImage})})}),Object(F.jsxs)(q.a,{children:[Object(F.jsx)(k.b,{to:"/pid".concat("/",e.value._id),style:{color:"rgba(0,0,0,.5)"},children:Object(F.jsx)("h5",{children:e.value.product})}),Object(F.jsx)("p",{style:{marginBottom:"4px"},children:e.value.brand}),Object(F.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",marginBottom:"4px"},className:"itemPrice",children:["\u20b9 ",e.value.price]}),Object(F.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",marginBottom:"4px"},className:"qty",children:["Qty : ",e.value.qty]}),Object(F.jsxs)("p",{style:{fontWeight:"bold",padding:"0px",textAlign:"end",marginRight:"8px"},className:"Price",children:["Price : \u20b9 ",a]})]})]})})})),jt=function(){return Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)(et.a,{animation:"border",role:"status",variant:"primary"})})},ht=function(e){var t="http://localhost:3000/api/";P.a.post(t+"sendPDF",{html:e}).then((function(e){window.open(t+"sendPDF/file?file="+e.data.filename,"_blank").focus()}),(function(e){console.log(e),alert("Something went Wrong! Try again...")}))},bt=Object(C.g)((function(e){var t=Object(d.useState)([]),a=Object(we.a)(t,2),n=a[0],r=a[1],c=Object(d.useState)(!1),s=Object(we.a)(c,2),i=s[0],o=s[1],l=Object(d.useState)(e.match.params.id),j=Object(we.a)(l,2),h=j[0];j[1];return Object(d.useEffect)((function(){if(localStorage.getItem("uid")){o(!0);var t={uid:localStorage.getItem("uid")};void 0!==h&&null!==h&&(t.orderCreationId=h),P.a.post("http://localhost:3000/api/mongoclient?collection=orders",{search:t,sort:{_id:-1}}).then((function(e){o(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&r(e.data)}),(function(e){o(!1),r([])}))}else e.history.push("/login")}),[]),Object(F.jsx)("div",{children:i?jt():Object(F.jsxs)("div",{className:"text-center py-3",children:[null===n||void 0===n?void 0:n.map((function(e,t){var a;return Object(F.jsxs)(Ze.a,{className:"CardAddress",id:e.orderCreationId,children:[Object(F.jsx)("h5",{className:"AddrLineText",children:e.orderCreationId.toUpperCase()}),Object(F.jsx)("hr",{}),Object(F.jsxs)("p",{className:"AddrLineText",children:[Object(F.jsx)("b",{children:"Date : "}),e.serverdate]}),Object(F.jsxs)("p",{className:"AddrLineText",children:[Object(F.jsx)("b",{children:"Amount : "}),e.amount.slice(0,-2)+".00 "+e.currency]}),Object(F.jsxs)(Ze.a,{className:"CardAddress",children:[Object(F.jsx)("h5",{className:"AddrLineText",children:"Order Product"}),Object(F.jsx)("hr",{}),null===(a=e.product)||void 0===a?void 0:a.map((function(e){return Object(F.jsx)(dt,{value:e},e._id)}))]}),Object(F.jsxs)(Ze.a,{className:"CardAddress",children:[Object(F.jsx)("h5",{className:"AddrLineText",children:"Delivery Address"}),Object(F.jsx)("hr",{}),Object(F.jsx)("p",{className:"AddrLineText",children:Object(F.jsx)("b",{children:e.address.firstName+" "+e.address.lastName})}),Object(F.jsxs)("p",{className:"AddrLineText",children:["Mobile No :",e.address.mobileno]}),Object(F.jsx)("p",{className:"AddrLineText",children:void 0!==e.address.atype?e.address.atype:null}),Object(F.jsx)("p",{className:"AddrLineText",children:e.address.address}),Object(F.jsx)("p",{className:"AddrLineText",children:void 0!==e.address.landmark?e.address.landmark:null}),Object(F.jsx)("p",{className:"AddrLineText",children:e.address.area}),Object(F.jsx)("p",{className:"AddrLineText",children:e.address.city+" - "+e.address.pincode}),Object(F.jsx)("p",{className:"AddrLineText",children:e.address.state+", "+e.address.country})]}),Object(F.jsx)(be.a,{color:"danger",type:"button",onClick:function(){return ht(document.querySelector("#"+e.orderCreationId).innerHTML)},children:"PDF"})]},t)})),0===n.length?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Ze.a,{className:"Card",children:[Object(F.jsx)("br",{}),Object(F.jsx)("h5",{children:void 0!==h&&null!==h?h.toUpperCase()+" is not vaild":"We are looking forward to receive your order."}),Object(F.jsx)("br",{})]},"empty"),Object(F.jsx)(Ye,{})]}):null]})})})),ut=function(){return Object(F.jsx)("div",{className:"text-center py-3",children:Object(F.jsx)(ye.a,{animation:"border",role:"status",variant:"primary"})})},mt=Object(C.g)((function(e){var t=Ee(),a=Object(we.a)(t,2),n=a[0].basket,r=a[1],c=Object(d.useState)([]),s=Object(we.a)(c,2),i=s[0],o=s[1],l=Object(d.useState)([]),j=Object(we.a)(l,2),h=j[0],b=j[1],u=Object(d.useState)(""),m=Object(we.a)(u,2),O=m[0],p=m[1],x=Object(d.useState)(!1),v=Object(we.a)(x,2),y=v[0],f=v[1];function N(e){return new Promise((function(t){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){t(!1)},document.body.appendChild(a)}))}Object(d.useEffect)((function(){if(localStorage.getItem("uid")){var t="http://localhost:3000/api/";P.a.post(t+"mongoclient/id?collection=cart&id="+localStorage.getItem("uid"),{}).then((function(e){localStorage.setItem("cart",JSON.stringify(e.data.data)),o(e.data.data)}),(function(e){console.log(e),o([])})),f(!0),P.a.post(t+"mongoclient?collection=address",{search:{uid:localStorage.getItem("uid")}}).then((function(e){f(!1),void 0!==e.data&&null!==e.data&&""!==e.data&&b(e.data)}),(function(e){f(!1),b([])}))}else e.history.push("/login")}),[]);var k=function(e,t,a){var n={to:e,subject:"Ecom Order - "+a,html:'<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8">   <meta name="viewport" content="width=device-width, initial-scale=1">   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"><\/script>  </head> <body> <h4 class="text-center">Hi '+t+',</h4><br/> <p class="text-center">Thank you!,<br/> Your order id - '+a+' is successful put with us!</p><br/> <br/><span class="badge badge-primary">Order Items</span> <br/><br/></body> </html>'};console.log(n),P.a.post("http://localhost:3000/api/email/send",n)};function C(){return(C=Object(ce.a)(re.a.mark((function t(){var a,c,s,l,d,j,b,u,m,p,x;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.find((function(e){return e.addrid===O})),c="http://localhost:3000/api/razorpay/",t.next=4,N("https://checkout.razorpay.com/v1/checkout.js");case 4:if(t.sent){t.next=8;break}return alert("Razorpay SDK failed to load. Are you online?"),t.abrupt("return");case 8:return t.next=10,P.a.post(c+"payment/orders",{amount:Ke(n)});case 10:if(s=t.sent){t.next=14;break}return alert("Server error. Are you online?"),t.abrupt("return");case 14:$.a.event({category:"Payment initiated",action:JSON.stringify(s.data.order)}),l=s.data.order,d=l.amount,j=l.id,b=l.currency,u=l.receipt,m=s.data.razorpayPaymentKey,p=s.data.serverdate,x={key:m,amount:d.toString(),currency:b,name:"Pritam Ecom",description:"Pay-"+p,image:{logo:g},order_id:j,handler:function(){var t=Object(ce.a)(re.a.mark((function t(n){var s,l;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={orderCreationId:j,razorpayPaymentId:n.razorpay_payment_id,razorpayOrderId:n.razorpay_order_id,razorpaySignature:n.razorpay_signature,receipt:u,amount:d.toString(),currency:b,serverdate:p,userdate:(new Date).toISOString(),uid:localStorage.getItem("uid"),name:a.firstName+" "+a.lastName,email:localStorage.getItem("email"),contact:a.mobileno,address:a,product:i},t.next=3,P.a.post(c+"payment/success",s);case 3:"success"===(l=t.sent).data.msg?(o([]),r({type:"EMPTY_BASKET"}),Object(M.b)("\ud83d\ude80 Your order "+l.data.orderId+" is successful put with us!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),k(localStorage.getItem("email"),a.firstName+" "+a.lastName,l.data.orderId),$.a.plugin.execute("ecommerce","addTransaction",{id:l.data.orderId,revenue:d.toString()}),e.history.push("/orders/"+l.data.orderId),alert("\ud83d\ude80 Your order "+l.data.orderId+" is successful put with us!")):alert(l.data.msg);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),prefill:{name:a.firstName+" "+a.lastName,email:localStorage.getItem("email"),contact:a.mobileno},notes:{order_id:j,receipt:u,uid:localStorage.getItem("uid")},theme:{color:"#61dafb"}},new window.Razorpay(x).open();case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(e){return w.apply(this,arguments)}function w(){return(w=Object(ce.a)(re.a.mark((function e(t){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(t.addrid);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(F.jsxs)("div",{children:[Object(F.jsx)(S.a,{variant:"primary",children:"Order Review"}),y?ut():Object(F.jsx)(F.Fragment,{children:null===n||void 0===n||0===n.length?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(A.a,{className:"Card",children:[Object(F.jsx)("br",{}),Object(F.jsx)("h5",{style:{textAlign:"center"},children:"We are looking forward to receive your order."}),Object(F.jsx)("br",{})]},"empty"),Object(F.jsx)(Ye,{})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{id:"ProductList",children:null===n||void 0===n?void 0:n.map((function(e){return Object(F.jsx)(dt,{value:e},e._id)}))}),Object(F.jsxs)("div",{children:[0!==h.length?Object(F.jsx)(S.a,{variant:"success",children:"Select a delivery address"}):null,null===h||void 0===h?void 0:h.map((function(e,t){return Object(F.jsx)(A.a,{className:"CardAddress",style:{background:O===e.addrid?"#8bf1de":"none"},onClick:function(){return L(e)},children:Object(F.jsxs)("div",{className:"row",children:[Object(F.jsxs)("div",{id:O===e.addrid?"AddressSelect":t,className:"col-sm-11",children:[Object(F.jsx)("h5",{className:"AddrLineText",children:e.firstName+" "+e.lastName}),Object(F.jsxs)("p",{className:"AddrLineText",children:[Object(F.jsx)("b",{children:"Mobile No : "}),e.mobileno]}),Object(F.jsx)("p",{className:"AddrLineText",children:void 0!==e.atype?e.atype:null}),Object(F.jsx)("p",{className:"AddrLineText",children:e.address}),Object(F.jsx)("p",{className:"AddrLineText",children:void 0!==e.landmark?e.landmark:null}),Object(F.jsx)("p",{className:"AddrLineText",children:e.area}),Object(F.jsx)("p",{className:"AddrLineText",children:e.city+" - "+e.pincode}),Object(F.jsx)("p",{className:"AddrLineText",children:e.state+", "+e.country})]}),Object(F.jsx)("div",{className:"col-sm-1",children:Object(F.jsx)("input",{type:"radio",id:t,name:"select",onChange:function(){return L(e)},checked:O===e.addrid})})]})},t)}))]}),Object(F.jsx)(A.a,{className:"Card",style:{padding:"10px"},children:Object(F.jsxs)(I.a,{style:{margin:"0px"},children:[Object(F.jsx)(q.a,{id:"TotalItems",children:Object(F.jsxs)("h5",{style:{textAlign:"center"},children:[n.length," Items"]})}),Object(F.jsx)(q.a,{id:"TotalPrice",children:Object(F.jsxs)("h5",{style:{textAlign:"center"},children:[Ke(n)," \u20b9"," "]})}),Object(F.jsx)(q.a,{children:0===h.length?Object(F.jsx)(G.a,{style:{width:"100%",background:"#dc3545",border:"#dc3545"},onClick:function(){return e.history.push("/address")},children:"Add Delivery Address"}):void 0!==O&&O.length>2?Object(F.jsx)(G.a,{style:{width:"100%"},onClick:function(){return C.apply(this,arguments)},children:"Pay with RAZORPAY"}):Object(F.jsx)(G.a,{style:{width:"100%",background:"#28a745",border:"#28a745"},children:"Select a delivery address"})})]})})]})}),Object(F.jsx)(M.a,{})]})})),Ot=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){$.a.pageview(window.location.pathname+window.location.search)}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&$.a.pageview(this.props.location.pathname+this.props.location.search)}},{key:"render",value:function(){return Object(F.jsx)(F.Fragment,{})}}]),a}(d.Component),pt=Object(C.g)(Ot);$.a.initialize("UA-154367138-1");var xt=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={navExpanded:!1,minHight:window.innerHeight-160+"px",minHightFilter:window.innerHeight-260+"px",isLogin:!!localStorage.getItem("name"),name:localStorage.getItem("name"),imageUrl:localStorage.getItem("imageUrl"),show:!1},n.updateLogin=function(){n.setState({isLogin:!!localStorage.getItem("name"),name:localStorage.getItem("name"),imageUrl:localStorage.getItem("imageUrl")})},n.setNavExpanded=function(e){n.setState({navExpanded:e})},n.setNavClose=function(){n.setState({navExpanded:!1})},n.updateLogin=n.updateLogin.bind(Object(O.a)(n)),n.handleSearch=n.handleSearch.bind(Object(O.a)(n)),n}return Object(m.a)(a,[{key:"handleSearch",value:function(){this.setState((function(e){return{show:!e.show,navExpanded:!1}}))}},{key:"render",value:function(){var e;return Object(F.jsxs)(k.a,{children:[Object(F.jsx)(y.a,{bg:"light",variant:"light",expand:"lg",style:{position:"sticky",top:0,zIndex:1},onToggle:this.setNavExpanded,expanded:this.state.navExpanded,children:Object(F.jsxs)("span",{style:{margin:"0px",width:"100%",display:"contents"},children:[Object(F.jsx)(y.a.Brand,{children:Object(F.jsxs)(k.b,{to:"/",onClick:this.setNavClose,className:"navbar-brand",children:[Object(F.jsx)("img",{src:g,alt:g,height:"30"})," Pritam Ecom"]})}),Object(F.jsx)(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(F.jsxs)(y.a.Collapse,{id:"basic-navbar-nav",children:[Object(F.jsxs)(f.a,{className:"mr-auto",onClick:this.setNavClose,children:[Object(F.jsx)(k.b,{to:"/",className:"nav-link",children:"Home"}),Object(F.jsx)(k.b,{to:"/products",className:"nav-link",children:"Products"}),this.state.isLogin?Object(F.jsx)(k.b,{to:"/orders",className:"nav-link",children:"Orders"}):null,Object(F.jsx)(k.b,{to:"/about",className:"nav-link",children:"About"})]}),Object(F.jsx)("div",{onClick:this.handleSearch,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:Object(F.jsx)("img",{src:v,alt:"Search",height:"35"})}),Object(F.jsx)(k.b,{to:"/cart",onClick:this.setNavClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:Object(F.jsx)(Xe,{})}),this.state.isLogin?Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(k.b,{to:"/profile",onClick:this.setNavClose,className:"nav-link",style:{float:"end",color:"rgba(0,0,0,.5)"},children:[Object(F.jsx)("img",{src:this.state.imageUrl,alt:"",height:"30"})," "+this.state.name]})}):Object(F.jsx)(k.b,{to:"/login",onClick:this.setNavClose,className:"nav-link",style:{float:"end"},children:Object(F.jsxs)("i",{className:"fa fa-sign-in","aria-hidden":"true",children:[" ","Login"]})})]})]})}),Object(F.jsx)("div",{children:Object(F.jsxs)(C.d,{children:[Object(F.jsx)(C.b,{exact:!0,path:"/",children:Object(F.jsxs)("div",{style:{minHeight:this.state.minHight},children:[Object(F.jsx)(D,{}),Object(F.jsx)(S.a,{variant:"primary",children:"Products"}),Object(F.jsx)(qe,{})]})}),Object(F.jsxs)(C.b,{path:"/products",children:[Object(F.jsxs)("div",{style:{background:"#e5faf4"},children:[Object(F.jsx)(S.a,{variant:"success",children:"Products Filters"}),Object(F.jsx)(Be,{})]}),Object(F.jsx)(S.a,{variant:"primary",children:"Products"}),Object(F.jsx)("div",{style:{minHeight:this.state.minHightFilter},children:Object(F.jsx)(qe,{})})]}),Object(F.jsx)(C.b,{exact:!0,path:"/pid/:id",children:Object(F.jsx)($e,{})}),Object(F.jsx)(C.b,{exact:!0,path:["/login","/profile"],children:Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(Y,{updateLogin:this.updateLogin})})}),Object(F.jsxs)(C.b,{exact:!0,path:"/post",children:[Object(F.jsx)(S.a,{variant:"primary",children:"Posts"}),Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(xe,{})})]}),Object(F.jsxs)(C.b,{path:"/about",children:[Object(F.jsx)(S.a,{variant:"primary",children:"About"}),Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(H,{})})]}),Object(F.jsxs)(C.b,{exact:!0,path:"/cart",children:[Object(F.jsx)(S.a,{variant:"primary",children:"Cart"}),Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(Ge,{})})]}),Object(F.jsxs)(C.b,{exact:!0,path:"/address",children:[Object(F.jsx)(S.a,{variant:"primary",children:"Address"}),Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(ct,{})})]}),Object(F.jsx)(C.b,{exact:!0,path:"/address/:id",children:Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(lt,{})})}),Object(F.jsxs)(C.b,(e={path:"/"},Object(b.a)(e,"path",["/orders/:id","/orders"]),Object(b.a)(e,"children",[Object(F.jsx)(S.a,{variant:"primary",children:"Order History"}),Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(bt,{})})]),e)),Object(F.jsx)(C.b,{path:"/confirm",children:Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(mt,{})})}),Object(F.jsxs)(C.b,{exact:!0,path:"/customers",children:[Object(F.jsx)(S.a,{variant:"primary",children:"List of Customers"}),Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(ve,{})})]}),Object(F.jsx)(C.b,{path:["/customer/edit/:id","/customers/edit"],children:Object(F.jsx)(Le,{})}),Object(F.jsx)(C.b,{path:"/notfound",children:Object(F.jsx)("div",{style:{minHeight:this.state.minHight},children:Object(F.jsx)(B,{})})}),Object(F.jsx)(C.a,{to:"/notfound"})]})}),this.showSearch(),Object(F.jsx)("footer",{id:"Footer",className:"border-top footer",bg:"light",variant:"light",children:Object(F.jsx)("div",{className:"footer-copyright text-center py-3",children:Object(F.jsxs)("p",{style:{margin:0},children:["\xa9 2020-21 :"," ",Object(F.jsx)(k.b,{to:"/",className:"nav-link",style:{display:"contents",padding:0},children:"Pritam Ecom"})]})})}),Object(F.jsx)(pt,{})]})}},{key:"showSearch",value:function(){return Object(F.jsx)(N.a,{show:this.state.show,onHide:this.handleSearch,style:{maxWidth:"100%"},children:Object(F.jsxs)("div",{style:{width:"100%",marginTop:"12px",paddingRight:"12px"},children:[Object(F.jsx)("button",{onClick:this.handleSearch,className:"CloseBtn",children:"X"}),Object(F.jsx)("br",{}),Object(F.jsx)(Ie,{handleSearch:this.handleSearch})]})})}}]),a}(d.Component),gt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},vt=a(23);a(154);h.a.render(Object(F.jsx)(vt.a,{client:me,children:Object(F.jsx)(Fe,{initialState:Je,reducer:ze,children:Object(F.jsx)(xt,{})})}),document.getElementById("root")),gt()},61:function(e,t,a){},89:function(e,t,a){},99:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.ca329eaf.chunk.js.map